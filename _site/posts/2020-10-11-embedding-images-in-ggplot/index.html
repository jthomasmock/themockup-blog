<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.294">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Thomas Mock">
<meta name="description" content="Trials and tribulations of the various strategies.">
<title>The MockUp - Plotting Points as Images in ggplot</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<script src="../../site_libs/quarto-nav/quarto-nav.js"></script><script src="../../site_libs/quarto-nav/headroom.min.js"></script><script src="../../site_libs/clipboard/clipboard.min.js"></script><meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script><script src="../../site_libs/quarto-search/fuse.min.js"></script><script src="../../site_libs/quarto-search/quarto-search.js"></script><link href="../../themockup.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script><script src="../../site_libs/quarto-html/popper.min.js"></script><script src="../../site_libs/quarto-html/tippy.umd.min.js"></script><script src="../../site_libs/quarto-html/anchor.min.js"></script><link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link id="quarto-text-highlighting-styles" href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script><link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="The MockUp - Plotting Points as Images in ggplot">
<meta property="og:description" content="Trials and tribulations of the various strategies.
">
<meta property="og:image" content="https://themockup.blog/posts/2020-10-11-embedding-images-in-ggplot/preview.png">
<meta property="og:site-name" content="The MockUp">
<meta property="og:image:height" content="743">
<meta property="og:image:width" content="1002">
<meta name="twitter:title" content="The MockUp - Plotting Points as Images in ggplot">
<meta name="twitter:description" content="Trials and tribulations of the various strategies.
">
<meta name="twitter:image" content="https://themockup.blog/posts/2020-10-11-embedding-images-in-ggplot/themockup.png">
<meta name="twitter:creator" content="@thomas_mock">
<meta name="twitter:card" content="summary_large_image">
</head>
<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">The MockUp</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../index.html">Blog</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../static/resources/resources.html">Resources</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">About</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jthomasmock"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/thomas_mock"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"><i class="bi bi-rss" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://jthomasmock.github.io/gtExtras/"><i class="bi bi-table" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://drinksbytom.com"><i class="bi bi-cup-straw" role="img">
</i> 
 </a>
  </li>  
</ul>
<div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Plotting Points as Images in ggplot</h1>
                          <div class="quarto-categories">
                <div class="quarto-category">data visualization</div>
                <div class="quarto-category">ggplot2</div>
                <div class="quarto-category">tidyverse</div>
                <div class="quarto-category">tables</div>
                <div class="quarto-category">gt</div>
                <div class="quarto-category">NFL</div>
              </div>
                  </div>
  </div>
    
  <div>
    <div class="description">
      <p>Trials and tribulations of the various strategies.</p>
    </div>
  </div>




  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Thomas Mock </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">10-11-2020</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#qbr-data" id="toc-qbr-data" class="nav-link active" data-scroll-target="#qbr-data">QBR Data</a></li>
  <li><a href="#ggimage" id="toc-ggimage" class="nav-link" data-scroll-target="#ggimage"><code>ggimage</code></a></li>
  <li><a href="#ggimage-and-aspect-ratio" id="toc-ggimage-and-aspect-ratio" class="nav-link" data-scroll-target="#ggimage-and-aspect-ratio"><code>ggimage</code> and Aspect Ratio</a></li>
  <li><a href="#ggtext-column-end-labels." id="toc-ggtext-column-end-labels." class="nav-link" data-scroll-target="#ggtext-column-end-labels."><code>ggtext</code> + column end labels.</a></li>
  <li><a href="#ggtext-axis-labels" id="toc-ggtext-axis-labels" class="nav-link" data-scroll-target="#ggtext-axis-labels"><code>ggtext</code> + Axis Labels</a></li>
  <li><a href="#ggtext-negatives" id="toc-ggtext-negatives" class="nav-link" data-scroll-target="#ggtext-negatives"><code>ggtext</code> Negatives</a></li>
  <li><a href="#what-about-a-table" id="toc-what-about-a-table" class="nav-link" data-scroll-target="#what-about-a-table">What about a table?</a></li>
  <li><a href="#team-logos" id="toc-team-logos" class="nav-link" data-scroll-target="#team-logos">Team Logos</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content"><section id="qbr-data" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="qbr-data">QBR Data</h3>
<p>We’ll gather the QBR data through week 4 via <code>espnscrapeR</code>. We’re also adapting a function from <a href="https://www.hvitfeldt.me/blog/real-emojis-in-ggplot2/">Emil Hvitfeldt</a> to create <code>&lt;img&gt;</code> tags for use by <code>ggtext</code> down the line. His <a href="https://www.hvitfeldt.me/blog/real-emojis-in-ggplot2/">post</a> has some good examples of <code>rtweet</code> + emoji analysis with <code>ggtext</code> embedded images.</p>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Get QBR data</span>
<span class="va">qbr_data</span> <span class="op">&lt;-</span> <span class="fu">espnscrapeR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/espnscrapeR/man/get_nfl_qbr.html">get_nfl_qbr</a></span><span class="op">(</span><span class="fl">2020</span><span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Scraping QBR totals for 2020!</code></pre>
</div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Get NFL team data</span>
<span class="va">team_data</span> <span class="op">&lt;-</span> <span class="fu">espnscrapeR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/espnscrapeR/man/get_nfl_teams.html">get_nfl_teams</a></span><span class="op">(</span><span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Getting NFL teams!</code></pre>
</div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="va">all_data</span> <span class="op">&lt;-</span> <span class="va">qbr_data</span> <span class="op">%&gt;%</span> 
  <span class="fu">left_join</span><span class="op">(</span><span class="va">team_data</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"team"</span>  <span class="op">=</span> <span class="st">"team_abb"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">rename</span><span class="op">(</span>name <span class="op">=</span> <span class="va">name_short</span><span class="op">)</span>

<span class="va">link_to_img</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">width</span> <span class="op">=</span> <span class="fl">50</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu">glue</span><span class="fu">::</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">"&lt;img src='{x}' width='{width}'/&gt;"</span><span class="op">)</span>
<span class="op">}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A quick bar plot of the ranked performance by each QB. We’ve explicilty added colors for each player’s team, and already formatted it for a nice display with some <code>theme</code> changes.</p>
<details class="page-columns page-full"><summary><strong>Basic Plot Code</strong>
</summary><div class="cell column-column-page-inset" data-fig.dim="[16.18,10]">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="va">basic_plot</span> <span class="op">&lt;-</span> <span class="va">all_data</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>label <span class="op">=</span> <span class="fu">link_to_img</span><span class="op">(</span><span class="va">headshot_href</span><span class="op">)</span>,
         rank <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="va">rank</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_col</span><span class="op">(</span>
    <span class="fu">aes</span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">rank</span>, y <span class="op">=</span> <span class="va">qbr_total</span>,
      fill <span class="op">=</span> <span class="va">team_color</span>, color <span class="op">=</span> <span class="va">team_alt_color</span>
      <span class="op">)</span>,
    width <span class="op">=</span> <span class="fl">0.4</span>
    <span class="op">)</span> <span class="op">+</span> 
  <span class="fu">scale_color_identity</span><span class="op">(</span>aesthetics <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"fill"</span>, <span class="st">"color"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_hline</span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0</span>, color <span class="op">=</span> <span class="st">"black"</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_x_continuous</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">30</span>, by <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">34</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_y_continuous</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pretty_breaks.html">pretty_breaks</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="cn">NULL</span>,
       y <span class="op">=</span> <span class="st">"QBR\n"</span>,
       title <span class="op">=</span> <span class="st">"QBR - 2020 Season"</span>,
       subtitle <span class="op">=</span> <span class="st">"Weeks: 1-4"</span>,
       caption <span class="op">=</span> <span class="st">"&lt;br&gt;**Data:** espnscrapeR | **Plot:** @thomas_mock"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>
    text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>family <span class="op">=</span> <span class="st">"Chivo"</span><span class="op">)</span>,
    panel.grid.minor <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,
    plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,
    plot.subtitle <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span>,
    plot.caption <span class="op">=</span> <span class="fu">element_markdown</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,
    axis.text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">14</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,
    axis.title.y <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">16</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>
    <span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details><div class="cell page-columns page-full" data-fig.dim="[16.18,10]">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 29 rows containing missing values (position_stack).</code></pre>
</div>
<div class="cell-output-display column-column-page-inset">
<p><img src="index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="8090"></p>
</div>
</div>
<p>That’s a fine plot, but unless we’re very knowledgeable about team colors you probably can’t decide which player/team belongs to each column. Now, we could approach it a different way, and rather than plotting ranks we can flip the graph where QBR is on the X, and player name is on the Y, now explicitly sorting by rank.</p>
<details><summary><strong>Sideways Plot Code</strong>
</summary><div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="va">side_plot</span> <span class="op">&lt;-</span> <span class="va">all_data</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>label <span class="op">=</span> <span class="fu">link_to_img</span><span class="op">(</span><span class="va">headshot_href</span><span class="op">)</span>,
         rank <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="va">rank</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_col</span><span class="op">(</span>
    <span class="fu">aes</span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">qbr_total</span>, y <span class="op">=</span> <span class="fu">fct_reorder</span><span class="op">(</span><span class="va">name</span>, <span class="va">qbr_total</span><span class="op">)</span>,
      fill <span class="op">=</span> <span class="va">team_color</span>, color <span class="op">=</span> <span class="va">team_alt_color</span>
      <span class="op">)</span>,
    width <span class="op">=</span> <span class="fl">0.4</span>
    <span class="op">)</span> <span class="op">+</span> 
  <span class="fu">scale_color_identity</span><span class="op">(</span>aesthetics <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"fill"</span>, <span class="st">"color"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_vline</span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">0</span>, color <span class="op">=</span> <span class="st">"black"</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_x_continuous</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pretty_breaks.html">pretty_breaks</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"\nQBR"</span>,
       y <span class="op">=</span> <span class="cn">NULL</span>,
       title <span class="op">=</span> <span class="st">"QBR - 2020 Season"</span>,
       subtitle <span class="op">=</span> <span class="st">"Weeks: 1-4"</span>,
       caption <span class="op">=</span> <span class="st">"&lt;br&gt;**Data:** espnscrapeR | **Plot:** @thomas_mock"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>
    text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>family <span class="op">=</span> <span class="st">"Chivo"</span><span class="op">)</span>,
    panel.grid.minor <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,
    panel.grid.major.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,
    plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,
    plot.subtitle <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span>,
    plot.caption <span class="op">=</span> <span class="fu">element_markdown</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,
    axis.text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">14</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,
    axis.title.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">16</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,
    axis.text.y <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>margin <span class="op">=</span> <span class="fu">margin</span><span class="op">(</span>r <span class="op">=</span> <span class="op">-</span><span class="fl">25</span>, unit <span class="op">=</span> <span class="st">"pt"</span><span class="op">)</span><span class="op">)</span>,
    axis.ticks.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>
    <span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details><div class="cell page-columns page-full" data-fig.dim="[16.18,10]">
<div class="cell-output-display column-column-page-inset">
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="8090"></p>
</div>
</div>
<p>Again that’s a useful plot, but we often want to include some more <em>pizzazz</em> by including team logos or player headshots. Below we’ll cover a few of the ways to do this, and some of the barriers or pain points we’ll run into along the way!</p>
<hr></section><section id="ggimage" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="ggimage"><code>ggimage</code></h3>
<p>First we have <code>ggimage</code> + end of column labels. I also want to note that I’m explicitly showing the code here, and using <code>tictoc</code> to display how long saving these images will take. In general, displaying embedded images is a bit slower than an equivalent basic <code>ggplot</code>. Since I want to show what the images will look like after export, I’m also using <code><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">knitr::include_graphics()</a></code> to include the actual exported PNG in this RMarkdown-based website. I’ve also included <code>tictoc</code> for how long each code-section took to save so you can see that each method is about 5-8 seconds.</p>
<p><strong>NOTE: I realise this graphic is distorted, it’s an intentional display of a problem you may run into</strong></p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="fu">tic</span><span class="op">(</span><span class="op">)</span>
<span class="va">qb_col_img</span> <span class="op">&lt;-</span> <span class="va">basic_plot</span> <span class="op">+</span>
  <span class="fu">geom_image</span><span class="op">(</span>
    <span class="fu">aes</span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">rank</span>, y <span class="op">=</span> <span class="va">qbr_total</span>,
      image <span class="op">=</span> <span class="va">headshot_href</span>
      <span class="op">)</span>
    <span class="op">)</span>

<span class="co"># Not displaying the image directly, </span>
<span class="co"># but reading in the exported img after</span>
<span class="co"># qb_col_img</span>

<span class="co"># saving it as a rectangle</span>
<span class="fu">ggsave</span><span class="op">(</span>
  <span class="st">"qbr-ggimage.png"</span>, <span class="va">qb_col_img</span>, 
  height <span class="op">=</span> <span class="fl">10</span>, width <span class="op">=</span> <span class="fl">16</span>, dpi <span class="op">=</span> <span class="st">"retina"</span>
  <span class="op">)</span>

<span class="fu">toc</span><span class="op">(</span><span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>4.307 sec elapsed</code></pre>
</div>
</div>
<div class="cell page-columns page-full">
<div class="cell-output-display column-column-page-inset">
<p><img src="qbr-ggimage.png" class="img-fluid" width="2560"></p>
</div>
</div>
<p>You’ll notice that since we have a rectangle-shaped graph, the images have been distorted to be wider than they should. Now if you want the images to come out without being distorted, you need to specify the specific aspect ratio you’re using. Just in case you haven’t heard of an aspect ratio, I’ll also provide a definition <em>as the ratio of width to height</em>.</p>
<hr></section><section id="ggimage-and-aspect-ratio" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="ggimage-and-aspect-ratio">
<code>ggimage</code> and Aspect Ratio</h3>
<p>Note that <code>geom_image()</code> has the following parameters:</p>
<pre><code>geom_image(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  inherit.aes = TRUE,
  na.rm = FALSE,
  by = "width",
  nudge_x = 0,
  ...
)</code></pre>
<p>There isn’t an explicit option for aspect ratio, but it exists as <code>asp</code>. So if we consider ahead of time the dimensions of the plot we want to make, we can define the aspect ratio at the plot level and at the <code>ggsave</code> level. Per some experiments on Windows specifically, we also need to include aspect ratio in the <code><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme()</a></code> call as well, and make sure this again aligns with your <code><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave()</a></code> call.</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Define an aspect ratio to use throughout</span>
<span class="co"># This value is the golden ratio</span>
<span class="co"># which provides a wider than tall rectangle</span>
<span class="va">asp_ratio</span> <span class="op">&lt;-</span> <span class="fl">1.618</span> 

<span class="fu">tic</span><span class="op">(</span><span class="op">)</span>
<span class="va">qb_col_img_asp</span> <span class="op">&lt;-</span> <span class="va">basic_plot</span> <span class="op">+</span>
  <span class="co"># note we can also control the size of the image according to it's width</span>
  <span class="fu">geom_image</span><span class="op">(</span>
    <span class="fu">aes</span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">rank</span>, y <span class="op">=</span> <span class="va">qbr_total</span>,
      image <span class="op">=</span> <span class="va">headshot_href</span>
      <span class="op">)</span>, 
    <span class="co"># Set size, and aspect ratio</span>
    size <span class="op">=</span> <span class="fl">0.05</span>, by <span class="op">=</span> <span class="st">"width"</span>, asp <span class="op">=</span> <span class="va">asp_ratio</span>
    <span class="op">)</span> <span class="op">+</span>
  <span class="co"># Second step</span>
  <span class="fu">theme</span><span class="op">(</span>aspect.ratio <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="va">asp_ratio</span><span class="op">)</span>

<span class="co"># include aspect ratio in ggsave</span>
<span class="fu">ggsave</span><span class="op">(</span>
  <span class="st">"qbr-img-asp.png"</span>, <span class="va">qb_col_img_asp</span>, 
  <span class="co"># make the width equivalent to the aspect.ratio</span>
  height <span class="op">=</span> <span class="fl">10</span>, width <span class="op">=</span> <span class="fl">10</span> <span class="op">*</span> <span class="va">asp_ratio</span>, dpi <span class="op">=</span> <span class="st">"retina"</span>
  <span class="op">)</span>
<span class="fu">toc</span><span class="op">(</span><span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2.723 sec elapsed</code></pre>
</div>
</div>
<div class="cell page-columns page-full">
<div class="cell-output-display column-column-page-inset">
<p><img src="qbr-img-asp.png" class="img-fluid" width="2588"></p>
</div>
</div>
<p>While this may seem like a bit of work, it’s a good habit to think explicitly about what size or ratio you want to save your plots out as (it can inform how big to make your text amongst other things).</p>
<p>However, there’s an even easier way thanks to <code>ggtext</code>!</p>
<hr></section><section id="ggtext-column-end-labels." class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="ggtext-column-end-labels.">
<code>ggtext</code> + column end labels.</h3>
<p>Next we have <code>ggtext</code> + column labels. Here <code><a href="https://wilkelab.org/ggtext/reference/geom_richtext.html">ggtext::geom_richtext()</a></code> handles the proper scaling of the image without really any intervention from us! While <code>geom_richtext()</code> is very useful we’re sort of using it out of its normal context. The overall purpose of <code>ggtext</code> is to provide <em>“improved text rendering support for <code>ggplot2</code>”</em>. The <a href="https://wilkelab.org/ggtext/"><code>ggtext</code> site</a> has all the capabilities and function details. In short, <code>ggtext</code> provides a limited subset of <code>markdown</code>/<code>HTML</code>/<code>CSS</code> syntax as an interface to changing text in <code>ggplot2</code>.</p>
<p>Thus, to achieve our goal of embedding images, we can create an <a href="https://www.w3schools.com/tags/tag_img.asp"><code>img</code> HTML tag</a> to embed an image rather than just format text. Note that again, while this looks like a HTML call it works anywhere you want to use <code>ggplot2</code>. Credit to <a href="https://www.hvitfeldt.me/blog/real-emojis-in-ggplot2/">Emil Hvitfeldt</a> for the idea of using an <code>img</code> tag and the function we’re adapting to embed images.</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Don't forget, we already created an img label column with HTML</span>
<span class="va">link_to_img</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">width</span> <span class="op">=</span> <span class="fl">50</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu">glue</span><span class="fu">::</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">"&lt;img src='{x}' width='{width}'/&gt;"</span><span class="op">)</span>
<span class="op">}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="fu">tic</span><span class="op">(</span><span class="op">)</span>
<span class="va">qb_col_text</span> <span class="op">&lt;-</span> <span class="va">basic_plot</span> <span class="op">+</span> 
    <span class="fu">geom_richtext</span><span class="op">(</span>
      <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">rank</span>, y <span class="op">=</span> <span class="va">qbr_total</span>, label <span class="op">=</span> <span class="va">label</span><span class="op">)</span>, 
      size <span class="op">=</span> <span class="fl">1</span>,
      fill <span class="op">=</span> <span class="cn">NA</span>, label.color <span class="op">=</span> <span class="cn">NA</span>, <span class="co"># remove background and outline</span>
      label.padding <span class="op">=</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span><span class="op">)</span>, <span class="st">"pt"</span><span class="op">)</span> <span class="co"># remove padding</span>
      <span class="op">)</span>

<span class="fu">ggsave</span><span class="op">(</span><span class="st">"qbr-ggtext.png"</span>, <span class="va">qb_col_text</span>, height <span class="op">=</span> <span class="fl">10</span>, width <span class="op">=</span> <span class="fl">10</span> <span class="op">*</span> <span class="va">asp_ratio</span>, dpi <span class="op">=</span> <span class="st">"retina"</span><span class="op">)</span>
<span class="fu">toc</span><span class="op">(</span><span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>7.364 sec elapsed</code></pre>
</div>
</div>
<div class="cell page-columns page-full">
<div class="cell-output-display column-column-page-inset">
<p><img src="qbr-ggtext.png" class="img-fluid" width="2588"></p>
</div>
</div>
<hr></section><section id="ggtext-axis-labels" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="ggtext-axis-labels">
<code>ggtext</code> + Axis Labels</h3>
<p>Now we could also change the images on the x-axis w/ the code below, and note that we’re mainly taking the same code, but changing the core <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> call to have <code>x = label</code> and <code>axis.text.x = ggtext::element_markdown()</code> - full details shown below.</p>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="co"># Here are the parts we're changing</span>

<span class="co"># change x-axis to be the label we've created</span>
<span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="fu">fct_reorder</span><span class="op">(</span><span class="va">label</span>, <span class="va">qbr_total</span>, .desc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>

<span class="co"># and changing the theme to include element_markdown()</span>
<span class="fu">theme</span><span class="op">(</span>
  axis.ticks.x <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,
  <span class="co"># add element_markdown to axis.text.x</span>
  <span class="co"># this will parse the labels to add img</span>
  axis.text.x <span class="op">=</span> <span class="fu">element_markdown</span><span class="op">(</span>margin <span class="op">=</span> <span class="fu">margin</span><span class="op">(</span>t <span class="op">=</span> <span class="op">-</span><span class="fl">25</span>, unit <span class="op">=</span> <span class="st">"pt"</span><span class="op">)</span><span class="op">)</span>
  <span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here’s the full code of the call with again some highlighted portions where we’ve changed code.</p>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="fu">tic</span><span class="op">(</span><span class="op">)</span>
<span class="va">axis_plot</span> <span class="op">&lt;-</span> <span class="va">all_data</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>label <span class="op">=</span> <span class="fu">link_to_img</span><span class="op">(</span><span class="va">headshot_href</span><span class="op">)</span>,
         rank <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="va">rank</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_col</span><span class="op">(</span>
    <span class="fu">aes</span><span class="op">(</span>
      <span class="co">## CHANGE IS HERE ##</span>
      <span class="co"># apply label to x axis labels</span>
      x <span class="op">=</span> <span class="fu">fct_reorder</span><span class="op">(</span><span class="va">label</span>, <span class="va">qbr_total</span>, .desc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, 
      y <span class="op">=</span> <span class="va">qbr_total</span>,
      fill <span class="op">=</span> <span class="va">team_color</span>, color <span class="op">=</span> <span class="va">team_alt_color</span>
      <span class="op">)</span>,
    width <span class="op">=</span> <span class="fl">0.4</span>
    <span class="op">)</span> <span class="op">+</span> 
  <span class="fu">scale_color_identity</span><span class="op">(</span>aesthetics <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"fill"</span>, <span class="st">"color"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_hline</span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0</span>, color <span class="op">=</span> <span class="st">"black"</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_y_continuous</span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pretty_breaks.html">pretty_breaks</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="cn">NULL</span>,
       y <span class="op">=</span> <span class="st">"QBR\n"</span>,
       title <span class="op">=</span> <span class="st">"QBR - 2020 Season"</span>,
       subtitle <span class="op">=</span> <span class="st">"Weeks: 1-4"</span>,
       caption <span class="op">=</span> <span class="st">"&lt;br&gt;**Data:** espnscrapeR | **Plot:** @thomas_mock"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>
    text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>family <span class="op">=</span> <span class="st">"Chivo"</span><span class="op">)</span>,
    panel.grid.minor <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,
    panel.grid.major.x <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,
    plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,
    plot.subtitle <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span>,
    plot.caption <span class="op">=</span> <span class="fu">element_markdown</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,
    axis.text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">14</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,
    axis.title.y <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">16</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>
    <span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>
    axis.ticks.x <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,
    <span class="co"># add element_markdown to axis.text.x</span>
    <span class="co"># this will parse the labels to add img</span>
    <span class="co"># we're also decreasing the margin so that the logos/heads are close </span>
    <span class="co"># to the columns</span>
    axis.text.x <span class="op">=</span> <span class="fu">element_markdown</span><span class="op">(</span>margin <span class="op">=</span> <span class="fu">margin</span><span class="op">(</span>t <span class="op">=</span> <span class="op">-</span><span class="fl">25</span>, unit <span class="op">=</span> <span class="st">"pt"</span><span class="op">)</span><span class="op">)</span>
    <span class="op">)</span>

<span class="co"># axis_plot</span>

<span class="fu">ggsave</span><span class="op">(</span>
  <span class="st">"qbr-axis-img.png"</span>, <span class="va">axis_plot</span>, 
  height <span class="op">=</span> <span class="fl">10</span>, width <span class="op">=</span> <span class="fl">10</span> <span class="op">*</span> <span class="va">asp_ratio</span>, dpi <span class="op">=</span> <span class="st">"retina"</span>
  <span class="op">)</span>
<span class="fu">toc</span><span class="op">(</span><span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>14.824 sec elapsed</code></pre>
</div>
</div>
<div class="cell page-columns page-full">
<div class="cell-output-display column-column-page-inset">
<p><img src="qbr-axis-img.png" class="img-fluid" width="2588"></p>
</div>
</div>
<hr></section><section id="ggtext-negatives" class="level3"><h3 class="anchored" data-anchor-id="ggtext-negatives">
<code>ggtext</code> Negatives</h3>
<p>OK wow, so why not just use <code>ggtext</code> all the time!?</p>
<p>Cons:</p>
<ul>
<li>It <em>WAS</em> <strong>verrrrrrry</strong> slow to draw in the RStudio plot-viewer, like on the order of a few minutes with 33 embedded images, however it would still save to <code>png</code> in a few seconds
<ul>
<li>The latest version (<code>ggtext_0.1.0.9000</code>) from <code>GitHub</code> does “draw” in a few seconds though!<br>
</li>
</ul>
</li>
<li>Can’t adjust size in <code>ggplot</code> - has to be done ahead of time w/ HTML syntax in our custom function</li>
</ul>
<p>I’m fine with these tradeoffs especially as the newer version is fast, and you don’t have to worry about the scaling.</p>
<p>Latest version of <code>ggtext</code> can be installed via <code>remotes::install_github("wilkelab/ggtext")</code>.</p>
<hr></section><section id="what-about-a-table" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="what-about-a-table">What about a table?</h3>
<p>So a slight hot-take is that since we’re showing values that we’re inherently asking people to look up and compare individual values (ie find your QB of interest vs the field), this should be a table!</p>
<p>Per <a href="https://themockup.blog/posts/2020-09-04-10-table-rules-in-r/#stephen-few">Stephen Few:</a></p>
<blockquote class="blockquote">
<p>Tables: Display used to look up and <strong>compare individual values</strong>.</p>
</blockquote>
<blockquote class="blockquote">
<p>Graph: Used to display the <strong>relationship among whole sets of values</strong> and their overall shape.</p>
</blockquote>
<p>Now sure, we’re showing a shape of the graphic, but really this is a way to show how far ahead (or behind) one player is behind another which is comparing individual values. That being said, I think it’s totally fine to use this a graphic, it’s attractive, people seem to enjoy them, and everyone has the free will to make their own graph/table decisions!</p>
<p>Below is an example of a table that occupies roughly the same space, tells the same story, uses the same headshots, but also adds more data in QB run vs pass EPA splits along with total plays.</p>
<details><summary><strong>Table Data + Function</strong>
</summary><div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="va">tab_data</span> <span class="op">&lt;-</span> <span class="va">all_data</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>RK <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rank.html">rank</a></span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">qbr_total</span><span class="op">)</span><span class="op">)</span>,
         RK <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="va">RK</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="va">RK</span>, <span class="va">name</span>, <span class="va">headshot_href</span>, <span class="va">qbr_total</span>, <span class="va">qb_plays</span>, <span class="va">pass</span>, <span class="va">run</span><span class="op">)</span> 

<span class="va">tab_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">...</span><span class="op">)</span><span class="op">{</span>
  <span class="va">data</span> <span class="op">%&gt;%</span> 
  <span class="fu">gt</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">text_transform</span><span class="op">(</span>
    locations <span class="op">=</span> <span class="fu">cells_body</span><span class="op">(</span><span class="fu">vars</span><span class="op">(</span><span class="va">headshot_href</span><span class="op">)</span><span class="op">)</span>,
    fn <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span>
      <span class="fu">web_image</span><span class="op">(</span>
        url <span class="op">=</span> <span class="va">x</span>,
        height <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">30</span><span class="op">)</span>
      <span class="op">)</span>
    <span class="op">}</span>
  <span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">cols_label</span><span class="op">(</span>
    headshot_href <span class="op">=</span> <span class="st">""</span>,
    name <span class="op">=</span> <span class="st">"Name"</span>,
    qbr_total <span class="op">=</span> <span class="st">"QBR"</span>,
    qb_plays <span class="op">=</span> <span class="st">"Plays"</span>,
    run <span class="op">=</span> <span class="st">"Run"</span>,
    pass <span class="op">=</span> <span class="st">"Pass"</span>
  <span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">data_color</span><span class="op">(</span>
    columns <span class="op">=</span> <span class="fu">vars</span><span class="op">(</span><span class="va">qbr_total</span><span class="op">)</span>,
    colors <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/col_numeric.html">col_numeric</a></span><span class="op">(</span>
      palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#af8dc3"</span>, <span class="st">"#f7f7f7"</span>, <span class="st">"#7fbf7b"</span><span class="op">)</span>,
      domain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">100</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">tab_style</span><span class="op">(</span>
    style <span class="op">=</span> <span class="fu">cell_text</span><span class="op">(</span>weight <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,
    locations <span class="op">=</span> <span class="fu">cells_body</span><span class="op">(</span>
      columns <span class="op">=</span> <span class="fu">vars</span><span class="op">(</span><span class="va">RK</span>, <span class="va">name</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">tab_options</span><span class="op">(</span>
    column_labels.background.color <span class="op">=</span> <span class="st">"white"</span>,
    column_labels.font.weight <span class="op">=</span> <span class="st">"bold"</span>,
    table.border.top.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>,
    table.border.top.color <span class="op">=</span> <span class="st">"transparent"</span>,
    table.border.bottom.color <span class="op">=</span> <span class="st">"transparent"</span>,
    table.border.bottom.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>,
    column_labels.border.top.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>,
    column_labels.border.top.color <span class="op">=</span> <span class="st">"transparent"</span>,
    column_labels.border.bottom.width <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>,
    column_labels.border.bottom.color <span class="op">=</span> <span class="st">"black"</span>,
    data_row.padding <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>,
    source_notes.font.size <span class="op">=</span> <span class="fl">12</span>,
    table.font.size <span class="op">=</span> <span class="fl">16</span>,
    heading.align <span class="op">=</span> <span class="st">"left"</span>,
    <span class="va">...</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">opt_table_font</span><span class="op">(</span>
    font <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      <span class="fu">google_font</span><span class="op">(</span><span class="st">"Chivo"</span><span class="op">)</span>,
      <span class="fu">default_fonts</span><span class="op">(</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span> 

<span class="op">}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details><p><br></p>
<p>The code uses the function defined in the above expandable section, and to get the side-by-side format I decided to save the tables as PNG and then combine with <code><a href="https://docs.ropensci.org/magick/reference/animation.html">magick::image_append()</a></code>.</p>
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="va">tab_data</span> <span class="op">%&gt;%</span> 
  <span class="fu">slice</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">17</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">tab_function</span><span class="op">(</span><span class="op">)</span>

<span class="va">tab_data</span> <span class="op">%&gt;%</span> 
  <span class="fu">slice</span><span class="op">(</span><span class="fl">178</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">tab_function</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">tab_style</span><span class="op">(</span>
    style <span class="op">=</span> <span class="fu">cell_borders</span><span class="op">(</span>
      sides <span class="op">=</span> <span class="st">"left"</span>,
      color <span class="op">=</span> <span class="st">"black"</span>,
      weight <span class="op">=</span> <span class="fu">px</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>
    <span class="op">)</span>,
    locations <span class="op">=</span> 
      <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
        <span class="fu">cells_body</span><span class="op">(</span>
          columns <span class="op">=</span> <span class="fl">1</span>
        <span class="op">)</span>,
        <span class="fu">cells_column_labels</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
      <span class="op">)</span>
  <span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell page-columns page-full">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="va">img1</span> <span class="op">&lt;-</span> <span class="fu">magick</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/magick/reference/editing.html">image_read</a></span><span class="op">(</span><span class="st">"gt-tab1.png"</span><span class="op">)</span>
<span class="va">img2</span> <span class="op">&lt;-</span> <span class="fu">magick</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/magick/reference/editing.html">image_read</a></span><span class="op">(</span><span class="st">"gt-tab2.png"</span><span class="op">)</span>

<span class="fu">magick</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/magick/reference/animation.html">image_append</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">img1</span>, <span class="va">img2</span><span class="op">)</span><span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display column-column-page-inset">
<p><img src="index_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="883"></p>
</div>
</div>
<p>The equivalent plot that displays:<br>
- Run EPA<br>
- Pass EPA<br>
- QBR<br>
- Player name</p>
<p>We’ve also loaded the <code>ggrepel</code> package to add labels. This graphic is getting a bit busy at this point but is still useful. Given that we’re trying to display 4 measures we have had to rely on size for run EPA which adds additional overhead to the understanding of this graphic as well.</p>
<div class="cell page-columns page-full" data-fig.dim="[12,8]">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/slowkow/ggrepel">ggrepel</a></span><span class="op">)</span>

<span class="va">scatter_plot</span> <span class="op">&lt;-</span> <span class="va">all_data</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>label <span class="op">=</span> <span class="fu">link_to_img</span><span class="op">(</span><span class="va">headshot_href</span><span class="op">)</span>,
         rank <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="va">rank</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">pass</span>, y <span class="op">=</span> <span class="va">qbr_total</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"lm"</span>, color <span class="op">=</span> <span class="st">"grey"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggrepel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ggrepel/man/geom_text_repel.html">geom_text_repel</a></span><span class="op">(</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">pass</span>, y <span class="op">=</span> <span class="va">qbr_total</span>, label <span class="op">=</span> <span class="va">name_last</span><span class="op">)</span>,
    box.padding <span class="op">=</span> <span class="fl">0.5</span>, fontface <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">6</span>
    <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">pass</span>, y <span class="op">=</span> <span class="va">qbr_total</span>, size <span class="op">=</span> <span class="va">run</span>, fill <span class="op">=</span> <span class="va">team_color</span>, color <span class="op">=</span> <span class="va">team_alt_color</span><span class="op">)</span>, 
    shape <span class="op">=</span> <span class="fl">21</span>
    <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_identity.html">scale_color_identity</a></span><span class="op">(</span>aesthetics <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"fill"</span>, <span class="st">"color"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_size.html">scale_size</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Run EPA"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pretty_breaks.html">pretty_breaks</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pretty_breaks.html">pretty_breaks</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"\nPass Expected Points Added"</span>,
       y <span class="op">=</span> <span class="st">"QBR\n"</span>,
       title <span class="op">=</span> <span class="st">"QBR - 2020 Season"</span>,
       subtitle <span class="op">=</span> <span class="st">"Weeks: 1-4\nNote that Pass EPA is predictive of QBR"</span>,
       caption <span class="op">=</span> <span class="st">"&lt;br&gt;**Data:** espnscrapeR | **Plot:** @thomas_mock"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>
    text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"Chivo"</span><span class="op">)</span>,
    panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,
    plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span>,
    plot.caption <span class="op">=</span> <span class="fu">element_markdown</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,
    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">14</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,
    axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">16</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,
    legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">0.85</span><span class="op">)</span>,
    legend.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_rect</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"lightgrey"</span><span class="op">)</span>,
    legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,
    legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
    <span class="op">)</span>

<span class="va">scatter_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula 'y ~ x'</code></pre>
</div>
<div class="cell-output-display column-column-page-inset">
<p><img src="index_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="4200"></p>
</div>
</div>
</section><section id="team-logos" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="team-logos">Team Logos</h3>
<p>Team logos work just as well, and are arguably a bit easier to parse than player headshots. The strategies are all the same, but just want to show team-logos from <code>nflfastR</code> as well!</p>
<details><summary><strong>Team Logo Code</strong>
</summary><div class="cell">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span class="fu">tic</span><span class="op">(</span><span class="op">)</span>
<span class="va">qb_col_logo</span> <span class="op">&lt;-</span> <span class="va">all_data</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>team <span class="op">=</span> <span class="fu">if_else</span><span class="op">(</span><span class="va">team</span> <span class="op">==</span> <span class="st">"WSH"</span>, <span class="st">"WAS"</span>, <span class="va">team</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">left_join</span><span class="op">(</span>
    <span class="fu">nflfastR</span><span class="fu">::</span><span class="va"><a href="https://www.nflfastr.com/reference/teams_colors_logos.html">teams_colors_logos</a></span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span>team <span class="op">=</span> <span class="va">team_abbr</span>, <span class="va">team_logo_espn</span><span class="op">)</span>,
    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"team"</span><span class="op">)</span>
    <span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>label <span class="op">=</span> <span class="fu">link_to_img</span><span class="op">(</span><span class="va">team_logo_espn</span>, width <span class="op">=</span> <span class="fl">35</span><span class="op">)</span>,
         rank <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="va">rank</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>
      x <span class="op">=</span> <span class="va">rank</span>, y <span class="op">=</span> <span class="va">qbr_total</span>,
      fill <span class="op">=</span> <span class="va">team_color</span>, color <span class="op">=</span> <span class="va">team_alt_color</span>
      <span class="op">)</span>,
    width <span class="op">=</span> <span class="fl">0.4</span>
    <span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_richtext</span><span class="op">(</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">rank</span>, y <span class="op">=</span> <span class="va">qbr_total</span>, label <span class="op">=</span> <span class="va">label</span><span class="op">)</span>, 
    size <span class="op">=</span> <span class="fl">1</span>,
    fill <span class="op">=</span> <span class="cn">NA</span>, label.color <span class="op">=</span> <span class="cn">NA</span>, <span class="co"># remove background and outline</span>
    label.padding <span class="op">=</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span><span class="op">)</span>, <span class="st">"pt"</span><span class="op">)</span> <span class="co"># remove padding</span>
    <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_identity.html">scale_color_identity</a></span><span class="op">(</span>aesthetics <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"fill"</span>, <span class="st">"color"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0</span>, color <span class="op">=</span> <span class="st">"black"</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">30</span>, by <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">34</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/pretty_breaks.html">pretty_breaks</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="cn">NULL</span>,
       y <span class="op">=</span> <span class="st">"QBR\n"</span>,
       title <span class="op">=</span> <span class="st">"QBR - 2020 Season"</span>,
       subtitle <span class="op">=</span> <span class="st">"Weeks: 1-4"</span>,
       caption <span class="op">=</span> <span class="st">"&lt;br&gt;**Data:** espnscrapeR | **Plot:** @thomas_mock"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>
    text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"Chivo"</span><span class="op">)</span>,
    panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,
    plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span>,
    plot.caption <span class="op">=</span> <span class="fu">element_markdown</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,
    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">14</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,
    axis.title.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">16</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>
    <span class="op">)</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave</a></span><span class="op">(</span><span class="st">"qbr-logo-ggtext.png"</span>, <span class="va">qb_col_logo</span>, height <span class="op">=</span> <span class="fl">10</span>, width <span class="op">=</span> <span class="fl">10</span> <span class="op">*</span> <span class="va">asp_ratio</span>, dpi <span class="op">=</span> <span class="st">"retina"</span><span class="op">)</span>
<span class="fu">toc</span><span class="op">(</span><span class="op">)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0.816 sec elapsed</code></pre>
</div>
</div>
</details><div class="cell page-columns page-full">
<div class="cell-output-display column-column-page-inset">
<p><img src="qbr-logo-ggtext.png" class="img-fluid" width="2588"></p>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target="#callout-1" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Expand for Session Info
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>─ Session info ───────────────────────────────────────────────────────────────
 setting  value
 version  R version 4.2.0 (2022-04-22)
 os       macOS Monterey 12.2.1
 system   aarch64, darwin20
 ui       X11
 language (EN)
 collate  en_US.UTF-8
 ctype    en_US.UTF-8
 tz       America/Chicago
 date     2022-04-28
 pandoc   2.18 @ /Applications/RStudio.app/Contents/MacOS/quarto/bin/tools/ (via rmarkdown)
 quarto   0.9.294 @ /usr/local/bin/quarto

─ Packages ───────────────────────────────────────────────────────────────────
 package     * version    date (UTC) lib source
 dplyr       * 1.0.8      2022-02-08 [1] CRAN (R 4.2.0)
 espnscrapeR * 0.6.5      2022-04-26 [1] Github (jthomasmock/espnscrapeR@084ce80)
 forcats     * 0.5.1      2021-01-27 [1] CRAN (R 4.2.0)
 ggimage     * 0.3.1      2022-04-25 [1] CRAN (R 4.2.0)
 ggplot2     * 3.3.5      2021-06-25 [1] CRAN (R 4.2.0)
 ggrepel     * 0.9.1      2021-01-15 [1] CRAN (R 4.2.0)
 ggtext      * 0.1.1      2020-12-17 [1] CRAN (R 4.2.0)
 glue        * 1.6.2      2022-02-24 [1] CRAN (R 4.2.0)
 gt          * 0.5.0.9000 2022-04-27 [1] Github (rstudio/gt@0d4c83d)
 purrr       * 0.3.4      2020-04-17 [1] CRAN (R 4.2.0)
 readr       * 2.1.2      2022-01-30 [1] CRAN (R 4.2.0)
 sessioninfo * 1.2.2      2021-12-06 [1] CRAN (R 4.2.0)
 stringr     * 1.4.0      2019-02-10 [1] CRAN (R 4.2.0)
 systemfonts * 1.0.4      2022-02-11 [1] CRAN (R 4.2.0)
 tibble      * 3.1.6      2021-11-07 [1] CRAN (R 4.2.0)
 tictoc      * 1.0.1      2021-04-19 [1] CRAN (R 4.2.0)
 tidyr       * 1.2.0      2022-02-01 [1] CRAN (R 4.2.0)
 tidyverse   * 1.3.1      2021-04-15 [1] CRAN (R 4.2.0)

 [1] /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/library

──────────────────────────────────────────────────────────────────────────────</code></pre>
</div>
</div>
</div>
</div>
</div>


</section></main><!-- /main --><script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script><script src="https://utteranc.es/client.js" repo="jthomasmock/themockup-blog" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->



</body></html>