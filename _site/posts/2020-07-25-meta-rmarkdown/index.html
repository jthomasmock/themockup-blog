<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.637">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Thomas Mock">
<meta name="dcterms.date" content="2020-07-25">
<meta name="description" content="A meta collection of all things R Markdown.">
<title>The MockUp - Meta RMarkdown - Taxonomy and Use cases</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../themockup.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="The MockUp - Meta RMarkdown - Taxonomy and Use cases">
<meta property="og:description" content="A meta collection of all things R Markdown.">
<meta property="og:image" content="https://themockup.blog/posts/2020-07-25-meta-rmarkdown/tools-flat.jpg">
<meta property="og:site-name" content="The MockUp">
<meta name="twitter:title" content="The MockUp - Meta RMarkdown - Taxonomy and Use cases">
<meta name="twitter:description" content="A meta collection of all things R Markdown.">
<meta name="twitter:image" content="https://themockup.blog/themockup.png">
<meta name="twitter:creator" content="@thomas_mock">
<meta name="twitter:card" content="summary_large_image">
</head>
<body class="floating nav-fixed slimcontent">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">The MockUp</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../index.html">Blog</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../static/resources/resources.html">Resources</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">About</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jthomasmock"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/thomas_mock"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"><i class="bi bi-rss" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://jthomasmock.github.io/gtExtras/"><i class="bi bi-table" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://drinksbytom.com"><i class="bi bi-cup-straw" role="img">
</i> 
 </a>
  </li>  
</ul>
<div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Meta RMarkdown - Taxonomy and Use cases</h1>
                  <div>
        <div class="description">
          <p>A meta collection of all things R Markdown.</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">rmarkdown</div>
                <div class="quarto-category">tidyverse</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Thomas Mock </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 25, 2020</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><nav id="TOC" role="doc-toc"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#nyr-presentation" id="toc-nyr-presentation" class="nav-link active" data-scroll-target="#nyr-presentation">NYR Presentation</a></li>
  <li><a href="#how-alison-hill-teaches-r-markdown" id="toc-how-alison-hill-teaches-r-markdown" class="nav-link" data-scroll-target="#how-alison-hill-teaches-r-markdown">How Alison Hill teaches R Markdown</a></li>
  <li><a href="#how-i-share-knowledge-around-r-markdown" id="toc-how-i-share-knowledge-around-r-markdown" class="nav-link" data-scroll-target="#how-i-share-knowledge-around-r-markdown">How I <strong>share knowledge</strong> around R Markdown</a></li>
  <li>
<a href="#r-markdown-for-literate-programming" id="toc-r-markdown-for-literate-programming" class="nav-link" data-scroll-target="#r-markdown-for-literate-programming">R Markdown for Literate Programming</a>
  <ul class="collapse">
<li><a href="#not-just-for-r" id="toc-not-just-for-r" class="nav-link" data-scroll-target="#not-just-for-r">Not <em>just</em> for R</a></li>
  <li><a href="#mvp-of-reproducibility" id="toc-mvp-of-reproducibility" class="nav-link" data-scroll-target="#mvp-of-reproducibility">MVP of <span>Reproducibility</span></a></li>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis">Exploratory Data Analysis</a></li>
  </ul>
</li>
  <li>
<a href="#r-markdown-as-a-data-product" id="toc-r-markdown-as-a-data-product" class="nav-link" data-scroll-target="#r-markdown-as-a-data-product">R Markdown as a Data Product</a>
  <ul class="collapse">
<li><a href="#presentations" id="toc-presentations" class="nav-link" data-scroll-target="#presentations"><span>Presentations</span></a></li>
  <li><a href="#dashboards-with-flexashboard" id="toc-dashboards-with-flexashboard" class="nav-link" data-scroll-target="#dashboards-with-flexashboard"><span>Dashboards</span> with <code>flexashboard</code></a></li>
  <li><a href="#reports" id="toc-reports" class="nav-link" data-scroll-target="#reports"><span>Reports</span></a></li>
  <li><a href="#entire-websites" id="toc-entire-websites" class="nav-link" data-scroll-target="#entire-websites"><span>Entire Websites</span></a></li>
  </ul>
</li>
  <li>
<a href="#r-markdown-as-a-control-document" id="toc-r-markdown-as-a-control-document" class="nav-link" data-scroll-target="#r-markdown-as-a-control-document">R Markdown as a Control Document</a>
  <ul class="collapse">
<li><a href="#automation-w-parameters" id="toc-automation-w-parameters" class="nav-link" data-scroll-target="#automation-w-parameters">Automation w/ parameters</a></li>
  <li><a href="#child-documents" id="toc-child-documents" class="nav-link" data-scroll-target="#child-documents">Child Documents</a></li>
  <li><a href="#rmarkdown-for-emails-w-blastula" id="toc-rmarkdown-for-emails-w-blastula" class="nav-link" data-scroll-target="#rmarkdown-for-emails-w-blastula"><span>RMarkdown for Emails</span> w/ <code>blastula</code></a></li>
  <li><a href="#r-markdown-rstudio-connect-as-an-execution-engine" id="toc-r-markdown-rstudio-connect-as-an-execution-engine" class="nav-link" data-scroll-target="#r-markdown-rstudio-connect-as-an-execution-engine">R Markdown + RStudio Connect as an execution engine</a></li>
  </ul>
</li>
  <li>
<a href="#rmarkdown-for-templating" id="toc-rmarkdown-for-templating" class="nav-link" data-scroll-target="#rmarkdown-for-templating">RMarkdown for Templating</a>
  <ul class="collapse">
<li><a href="#knitting-w-knitrender" id="toc-knitting-w-knitrender" class="nav-link" data-scroll-target="#knitting-w-knitrender"><span>Knitting w/ <code>knit::render()</code></span></a></li>
  <li><a href="#looping-outputs" id="toc-looping-outputs" class="nav-link" data-scroll-target="#looping-outputs">Looping outputs</a></li>
  <li><a href="#whisker" id="toc-whisker" class="nav-link" data-scroll-target="#whisker"><span>whisker</span></a></li>
  <li><a href="#usethisuse_template" id="toc-usethisuse_template" class="nav-link" data-scroll-target="#usethisuse_template"><code>usethis::use_template()</code></a></li>
  <li><a href="#fin" id="toc-fin" class="nav-link" data-scroll-target="#fin">Fin</a></li>
  </ul>
</li>
  </ul></nav>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content"><div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full"><p><img src="tools-flat.jpg" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption margin-caption">Set of tools layed flat</figcaption><p></p>
</figure>
</div>
<section id="nyr-presentation" class="level2"><h2 class="anchored" data-anchor-id="nyr-presentation">NYR Presentation</h2>
<p><img src="nyr-slide.png" class="img-fluid"></p>
<p>My slides on this topic for the NYC R Conference are at <a href="https://docs.google.com/presentation/d/e/2PACX-1vRo1eXJtiwo6aTA8KZ2E-bUbv2GOonC2RIVk_5eWQ5y-ADXbRamBhHaa3w1vMW6BkEPOMJ13ZahSo8Q/embed?start=false&amp;loop=true&amp;delayms=30000&amp;slide=id.p">bit.ly/marvelRMD</a>.</p>
<p><a href="https://github.com/jthomasmock/radix_themockup/tree/master/_posts/2020-07-25-meta-rmarkdown/rmd-slides.pdf">PDF Version</a> for folks who want to try out the code-chunks.</p>
</section><section id="how-alison-hill-teaches-r-markdown" class="level2"><h2 class="anchored" data-anchor-id="how-alison-hill-teaches-r-markdown">How Alison Hill teaches R Markdown</h2>
<p>If you haven’t read it already make sure to read <a href="https://alison.rbind.io/post/2020-05-28-how-i-teach-r-markdown/">Dr.&nbsp;Alison Hill’s fantastic blogpost</a>:<br><strong><code>How I teach R Markdown</code></strong></p>
<p>Alison is a RMarkdown superstar on the RStudio Education team. Her blogpost covers her guide on her well-informed approach for <strong>teaching</strong> R Markdown.</p>
<p>She has taught:<br>
- College students as a professor across a semester<br>
- In person professional learners at RStudio::conf in 1-2 day workshops<br>
- Digital Learners in Pharma/Finance/etc via shorter online workshops</p>
<p>To summarize her post:</p>
<ol type="1">
<li>
<strong>Make it. Make it again.</strong> - Show how knitting works throughout the process.<br>
</li>
<li>
<strong>Make it pretty</strong> - Engage your learners with visuals, tables, etc - motivation is key!<br>
</li>
<li>
<strong>Make it snappy</strong> - Get a shareable link the first 20 min (usually via Netlify Drop).<br>
</li>
<li>
<strong>Make it real</strong> - “Teach folks what they need to know to actually use the tool productively in real life.”<br>
</li>
<li>
<strong>Make it easy</strong> - “People will only keep using R Markdown if they see it making their life easier. So show them how. For example, the RStudio IDE has some very nice built-in features that make it much easier to be an R Markdown user.”</li>
</ol>
<p>Again - GO READ her <a href="https://alison.rbind.io/post/2020-05-28-how-i-teach-r-markdown/">blogpost</a> for additional links and guides she links to.</p>
<p>My blogpost below is meant to be a sister article to hers, framed with a similar approach we use in Customer Success but different in that we’re not doing as much long-form education. Alison’s approach is well-informed and very useful in the context of direct teaching activity, which is why I wanted to share it as well!</p>
</section><section id="how-i-share-knowledge-around-r-markdown" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="how-i-share-knowledge-around-r-markdown">How I <strong>share knowledge</strong> around R Markdown</h2>
<p>I work on a different team than Alison at RStudio, specifically I’m a Customer Success Manager. This means that I work with existing RStudio Pro Product customers, most often people who have RStudio Connect. I work exclusively with High Tech/Software customers, meaning that they are typically <em>already</em> doing very sophisticated work with R in production, and I’m helping them further eliminate friction or empower their data science teams to do more with R.</p>
<p>A core part of my job is <strong>knowledge sharing</strong> around how to use open-source software like R Markdown with or without our Pro Products. Thus most of my work is <strong>Strategic</strong> in nature, although I do often give shorter 30-60 min training sessions that are <strong>Tactical</strong>.</p>
<blockquote class="blockquote">
<p>A <strong>strategy</strong> is a set of guidelines used to achieve an overall objective, whereas <strong>tactics</strong> are the specific actions aimed at adhering to those guidelines. <a href="https://en.wikipedia.org/wiki/Tactic_(method)">Source: Wikipedia</a></p>
</blockquote>
<p>Thus my usual framing is covering topics that inform the learner of new strategies (ways of solving a problem) without necessary having to teach all the tactics (nuts and bolts of how it all works).</p>
<p>This post will focus on 4 core strategies of why R Markdown is <em>SO</em> useful and absolutely worth learning with links to external tactics/guides/write-ups of how to accomplish the various tasks.</p>
<hr>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full"><p><img src="https://media.giphy.com/media/NFA61GS9qKZ68/giphy.gif" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption margin-caption">Cat reading a military strategy book</figcaption><p></p>
</figure>
</div>
</section><section id="r-markdown-for-literate-programming" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="r-markdown-for-literate-programming">R Markdown for Literate Programming</h2>
<p><strong>Goal</strong>: Capture code, text/comments, and output in a single document</p>
<p>This is the most common use of R Markdown, and is often how it is taught in University coursework. R Markdown is a tool for <a href="https://en.wikipedia.org/wiki/Literate_programming">Literate Programming</a>, and in summary is:</p>
<blockquote class="blockquote">
<p>A programming paradigm introduced by Donald Knuth in which a computer program is given an explanation of its logic in a natural language, such as English, interspersed with snippets of macros and traditional source code, from which compilable source code can be generated.</p>
</blockquote>
<section id="not-just-for-r" class="level3"><h3 class="anchored" data-anchor-id="not-just-for-r">Not <em>just</em> for R</h3>
<p>R Markdown obviously has rich support for R-based code and data products, but did you know it also supports:<br>
- Native <a href="https://bookdown.org/yihui/rmarkdown/language-engines.html"><code>Python</code></a> or calling <code>Python</code> from R via <a href="https://rstudio.github.io/reticulate/articles/r_markdown.html"><code>reticulate</code></a><br>
- <code>SQL</code> - <a href="https://irene.rbind.io/post/using-sql-in-rstudio/">Blog post by Irene Steves</a><br>
- <a href="https://bookdown.org/yihui/rmarkdown-cookbook/html-css.html">CSS</a> or <a href="https://livefreeordichotomize.com/2017/01/24/custom-javascript-visualizations-in-rmarkdown/"><code>JavaScript</code></a> for all sorts of customization<br>
- As well as Bash, Rcpp, Stan, and other formats<br>
- All together there are 52(!) possible language engines coming from <code>knitr</code></p>
</section><section id="mvp-of-reproducibility" class="level3"><h3 class="anchored" data-anchor-id="mvp-of-reproducibility">MVP of <a href="https://datacarpentry.org/rr-intro/02-toolkit/">Reproducibility</a>
</h3>
<p>Whether you talk about <strong>M</strong>inimum <strong>V</strong>iable <strong>P</strong>roduct or <strong>M</strong>ost <strong>V</strong>aluable <strong>P</strong>layer, it works! Since R Markdown is a form of Literate Programming, you can write all of your comments, notes, and execute your code within it.</p>
<ul>
<li>R Markdown <strong>HAS</strong> to run successfully to save/knit the output<br>
</li>
<li>R Markdown is self-documenting (the code is embedded)<br>
</li>
<li>The code is <code>diffable</code> and easily human readable in version control<br>
</li>
<li>Self-contained workspace</li>
</ul></section><section id="exploratory-data-analysis" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="exploratory-data-analysis">Exploratory Data Analysis</h3>
<p>An example here is for Dave Robinson’s <code>#TidyTuesday</code> <a href="https://www.youtube.com/user/safe4democracy/playlists">screencasts</a> + <a href="https://github.com/dgrtwo/data-screencasts">code</a></p>
<ul>
<li>Dave uses R Markdown to explore a brand new dataset each week, capturing his comments and train of thought as he tests the data, performs basic analyses, and moves towards a modeling or deliverable data product</li>
</ul>
<hr>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full"><p><img src="https://media.giphy.com/media/3og0IExSrnfW2kUaaI/giphy.gif" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption margin-caption">Man plotting an upward curve</figcaption><p></p>
</figure>
</div>
</section></section><section id="r-markdown-as-a-data-product" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="r-markdown-as-a-data-product">R Markdown as a Data Product</h2>
<p><strong>Goal</strong>: Generate output natively in R for consumption</p>
<p>This is typically the second most common use of R Markdown. Since R Markdown can <code>knit</code> to all sorts of different formats, it is a powerful tool for creating data products like:</p>
<section id="presentations" class="level3"><h3 class="anchored" data-anchor-id="presentations"><a href="https://bookdown.org/yihui/rmarkdown/presentations.html">Presentations</a></h3>
<ul>
<li>Powerpoint<br>
</li>
<li>Web-formats - <code>xaringan</code> (<code>remark.js</code>)<br>
</li>
<li>LateX formats - Beamer</li>
</ul></section><section id="dashboards-with-flexashboard" class="level3"><h3 class="anchored" data-anchor-id="dashboards-with-flexashboard">
<a href="https://rmarkdown.rstudio.com/flexdashboard/">Dashboards</a> with <code>flexashboard</code>
</h3>
<ul>
<li>Lets you quickly build beautiful dashboards with either static or reactive components</li>
</ul></section><section id="reports" class="level3"><h3 class="anchored" data-anchor-id="reports"><a href="https://bookdown.org/yihui/rmarkdown/html-document.html">Reports</a></h3>
<ul>
<li>Supports HTML Documents, PDF, Word and many others</li>
</ul></section><section id="entire-websites" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="entire-websites"><a href="https://bookdown.org/yihui/rmarkdown/websites.html">Entire Websites</a></h3>
<ul>
<li>
<a href="https://bookdown.org/yihui/blogdown/"><code>blogdown</code></a> for easily extensible custom websites or blogs<br>
</li>
<li>
<a href="https://rstudio.github.io/distill/"><code>distill</code></a> for scientific writing, native to the web (this website is built in <code>distill</code>)</li>
</ul>
<p>Most importantly these formats are created with code, so you get the benefit of reproducibility, automation, etc while still generating data products in the format your non-coder colleagues expect.</p>
<hr>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full"><p><img src="https://media.giphy.com/media/QmV0qTbokfmDK/giphy.gif" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption margin-caption">Child operating mission control</figcaption><p></p>
</figure>
</div>
</section></section><section id="r-markdown-as-a-control-document" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="r-markdown-as-a-control-document">R Markdown as a Control Document</h2>
<p><strong>Goal</strong>: Scale data science tasks, automate the boring stuff, create robust pipelines</p>
<p>Less widely known, but just as important is the idea of R Markdown as a meta-document that lets you bring in other code or automate processes.</p>
<p>As it’s much larger in scope than a single bullet point I’d recommend going to read Emily Riederer’s blog post on <a href="https://emilyriederer.netlify.app/post/rmarkdown-driven-development/">Rmarkdown Driven Development</a>. It’s “an approach of using R Markdown within the larger scope of the <a href="https://peerj.com/preprints/3210/">analysis engineering</a> concept” presented by Hilary Parker.</p>
<p>A brief summary of her blogpost:</p>
<blockquote class="blockquote">
<p>I tend to think of each RMarkdown as having a “data product” (an analytical engine calibrated to answer some specific question) nestled within it. Surfacing this tool just requires a touch of forethought before beginning an analysis and a bit of clean-up afterwards.</p>
<p>In this post, I describe RMarkdown Driven Development: a progression of stages between a single ad-hoc RMarkdown script and more advanced and reusable data products like R projects and packages. This approach has numerous benefits.</p>
</blockquote>
<section id="automation-w-parameters" class="level3"><h3 class="anchored" data-anchor-id="automation-w-parameters">Automation w/ parameters</h3>
<ul>
<li>Parameters are data passed to the R Markdown document to generate new outputs from the same code.<br>
</li>
<li>An example here is generating a report for all 50 US states.
<ul>
<li>Rather than writing 50 reports manually, you can pass a parameter of <code>state</code> to the R Markdown report and render 50x reports at once!<br>
</li>
<li>The input R Markdown is always the same, but you pass each state as a parameter programatically to generate a new report for EACH state with it’s data.<br>
</li>
</ul>
</li>
<li>
<a href="https://bookdown.org/yihui/rmarkdown/parameterized-reports.html">Paramaterized reports</a><br>
</li>
<li>
<a href="https://bookdown.org/yihui/rmarkdown-cookbook/parameterized-reports.html">Parameterized report cookbook</a><br>
</li>
<li><a href="https://rmarkdown.rstudio.com/developer_parameterized_reports.html%23parameter_types%2F">Parameterized Reports site</a></li>
</ul></section><section id="child-documents" class="level3"><h3 class="anchored" data-anchor-id="child-documents">Child Documents</h3>
<ul>
<li>Child documents allow you to bring in OTHER RMarkdown code/documents into a parent, meaning you can use the parent document as a meta-document referencing code/outputs in other documents.
<ul>
<li>This can greatly help with the flow/size of a single document and you can essentially modularize portions of the document.</li>
<li>It’s worth noting that you should read Emily’s post above on building up a robust R Markdown workflow.</li>
<li>
<a href="https://bookdown.org/yihui/rmarkdown-cookbook/child-document.html">Child Documents</a><br>
</li>
<li><a href="https://yihui.org/knitr/demo/child/">Child Documents - Yihui’s Blog</a></li>
</ul>
</li>
</ul></section><section id="rmarkdown-for-emails-w-blastula" class="level3"><h3 class="anchored" data-anchor-id="rmarkdown-for-emails-w-blastula">
<a href="https://github.com/rich-iannone/blastula">RMarkdown for Emails</a> w/ <code>blastula</code>
</h3>
<ul>
<li>While this is technically a data-product, because it is generating an email I’m putting it as a Control Document. The short of this is that <code>blastula</code> provides a framework to generate HMTL emails from R Markdown, which are then sent by an email server or RStudio Connect.
<ul>
<li>This <a href="https://rstudio.com/resources/webinars/avoid-dashboard-fatigue/">Blastula Webinar</a> covers a lot of the use cases, all with code and real-life applications</li>
</ul>
</li>
</ul></section><section id="r-markdown-rstudio-connect-as-an-execution-engine" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="r-markdown-rstudio-connect-as-an-execution-engine">R Markdown + RStudio Connect as an execution engine</h3>
<ul>
<li><p>R Markdown is a first-class citizen on RStudio Connect, and you can interactively generate new reports based on parameters, or schedule R Markdown documents to re-execute documents on a schedule.</p></li>
<li><p>Code for <a href="https://solutions.rstudio.com/examples/apps/output-file-etl/">ETL</a> - an example of an ETL process through an automated R Markdown report, this could query against a SQL database or a <code>spark</code> cluster to process ETL jobs, all on a schedule down to the minute or up to a year.<br></p></li>
<li><p><a href="https://solutions.rstudio.com/examples/scheduling/scheduling/">Scheduled reporting</a> - maybe your boss needs a report built every Monday? You can do that too - pulling in new data and re-generating a report on a specific time-schedule all with no need for human intervention.</p></li>
<li><p><a href="https://solutions.rstudio.com/examples/blastula/conditional-example/">Emailing w/ <code>blastula</code></a> - maybe your boss is too busy to consume a full report every day - send a conditional email directly to them if a specific number is hit or missed all with code in R! This email could is built with R Markdown, and could contain plots, tables, raw data, or attach ANY R Markdown-based document (so… basically anything).</p></li>
</ul>
<hr>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full"><p><img src="https://media.giphy.com/media/L7TQTflWNF1YI/giphy.gif" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption margin-caption">Gif of a machine creating jelly rolls</figcaption><p></p>
</figure>
</div>
</section></section><section id="rmarkdown-for-templating" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="rmarkdown-for-templating">RMarkdown for Templating</h2>
<p><strong>Goal</strong>: Don’t repeat yourself, generate <strong>input</strong> templates or <strong>output</strong> documents from code.</p>
<p>Using R Markdown for templating is normally thought of for <code>knitr::render()</code> + parameters, but there’s additional techniques to solve specific problems that don’t fit neatly into paramaterized reports as well.</p>
<section id="knitting-w-knitrender" class="level3"><h3 class="anchored" data-anchor-id="knitting-w-knitrender"><a href="https://rmarkdown.rstudio.com/docs/reference/render.html">Knitting w/ <code>knit::render()</code></a></h3>
<ul>
<li>This is the first step towards using a template, and lets you generate R Markdown outputs programatically with code. It can be coupled with parameters or with other arguments for outputs locations, etc.</li>
</ul></section><section id="looping-outputs" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="looping-outputs">Looping outputs</h3>
<ul>
<li>This is really still focused at data products, but programmatically building up portions WITHIN a document.
<ul>
<li>In this example, I’m taking a single function and using <code><a href="https://purrr.tidyverse.org/reference/map.html">purrr::walk()</a></code> to generate new outputs from a template within the R Markdown report.</li>
<li>Note that for the chunk that outputs the repeated portions, you have to set <code>results="asis"</code> in the chunk option.</li>
</ul>
</li>
</ul>
<p>Minimal example below with the <a href="https://github.com/allisonhorst/palmerpenguins"><code>palmerpenguins</code> dataset</a>. Full copy-pastable code at: <a href="https://git.io/JJBcC">https://git.io/JJBcC</a>.</p>
<p>Note that I’m writing one function and calling it <code>n</code> times, it would loop across all the data based on the different inputs.</p>
<pre><code>---
output: html_document
---
  
  
```{r penguin function, echo=FALSE, message=FALSE}
library(dplyr)
library(ggplot2)
library(palmerpenguins)
library(glue)
penguins &lt;- palmerpenguins::penguins
multiplot &lt;- function(penguin_name){
  cat(glue::glue("  \n### {penguin_name}  \n  \n"))
  df_pen &lt;- penguins %&gt;% 
    filter(as.character(species) == penguin_name) %&gt;% 
    na.omit()
  
  flipper_len &lt;- df_pen %&gt;% 
    summarize(mean = mean(flipper_length_mm)) %&gt;% 
    pull(mean) %&gt;% 
    round(digits = 1)
  
  bill_len &lt;- df_pen %&gt;% 
    summarize(mean = mean(bill_length_mm)) %&gt;% 
    pull(mean) %&gt;% 
    round(digits = 1)
  
  cat(
    glue::glue("There are {nrow(df_pen)} observations of {penguin_name} penguins. The average flipper length is {flipper_len} and the average bill length is {bill_len}.  \n")
  )
  
  plot_out &lt;- df_pen %&gt;% 
    ggplot(aes(x = bill_length_mm, y = flipper_length_mm)) +
    geom_point() +
    labs(x = "Bill Length", y = "Flipper Length", title = penguin_name)
  
  print(plot_out)
  
  cat("  \n  \n")
}
```

```{r loop output,fig.width=6,echo=FALSE,message=FALSE,results="asis"}
purrr::walk(unique(as.character(penguins$species)), multiplot)
```

&lt;!-- https://git.io/JJBcC --&gt;</code></pre>
<p>Which generates the following document:</p>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full"><p><img src="palmer-penguins.png" class="img-fluid figure-img"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption margin-caption">Loop Output in RMD</figcaption><p></p>
</figure>
</div>
</section><section id="whisker" class="level3"><h3 class="anchored" data-anchor-id="whisker"><a href="https://github.com/edwindj/whisker">whisker</a></h3>
<ul>
<li>
<code>whisker</code> is a templating engine for R conforming to the Mustache specification.<br>
</li>
<li>It uses <code>glue</code> style syntax to add data to templates either in memory or to an output file, where my mental model is it is <code>glue</code> for documents rather than strings.<br>
</li>
<li>You can include templates from all sorts of inputs, like R files, R Markdown, markdown or plain text.<br>
</li>
<li>These templates can be local directories, or stored in the <a href="https://r-pkgs.org/inst.html"><code>inst</code></a> directory of an R package.<br>
</li>
<li>Lastly, these can also generate outputs in the same format, eg you can create templates/outputs for R, R Markdown or other plain-text formats!</li>
</ul>
<p>Minimal <code>whisker</code> example below:</p>
<p>First, some input data:</p>
<pre><code>data &lt;- list(
  name = "Chris", 
  value = 10000, 
  taxed_value = 10000 - (10000 * 0.4), 
  in_ca = TRUE
)
</code></pre>
<p>Then a template:</p>
<pre><code>template &lt;-
'Hello {{name}}
You have just won ${{value}}!
{{#in_ca}}
Well, ${{taxed_value}}, after taxes.
{{/in_ca}}'</code></pre>
<p>Now, fill the template!</p>
<pre><code>text &lt;- whisker.render(template, data)
cat(text)</code></pre>
<pre><code># Output
Hello Chris
You have just won $10000!
Well, $6000, after taxes.</code></pre>
<p>I use <code>whisker</code> natively to generate the readme files for each week’s <code>#TidyTuesday</code> submission. Separate blog-post to come for that!</p>
</section><section id="usethisuse_template" class="level3"><h3 class="anchored" data-anchor-id="usethisuse_template"><code>usethis::use_template()</code></h3>
<ul>
<li>Alternatively to natively using <code>whisker</code> <a href="https://usethis.r-lib.org/reference/use_template.html">usethis::use_template()</a> provides a more ready to use function, and uses <code>whisker</code> internally.
<ul>
<li>
<code>use_template()</code> Used as the engine for a templating function in other packages.</li>
</ul>
</li>
</ul>
<p>Sharla Gelfand, the “Queen of Reproducible Reporting”, put together lots of material using the <code><a href="https://usethis.r-lib.org/reference/use_template.html">usethis::use_template()</a></code> workflow in their work.</p>
<ul>
<li>
<a href="https://sharla.party/post/usethis-for-reporting/">Sharla Gelfand’s <code>use_template()</code> blogpost</a>
<ul>
<li>In short, they turned an annual report from a mess of copy-pasting and manual work into a fast, streamlined, reproducible, and easily repeatable workflow using R, R Markdown, and <code><a href="https://usethis.r-lib.org/reference/use_template.html">usethis::use_template()</a></code>.<br>
</li>
<li>
<a href="https://rstudio.com/resources/rstudioconf-2020/don-t-repeat-yourself-talk-to-yourself-repeated-reporting-in-the-r-universe/">Recording</a> of their presentation on the same topic<br>
</li>
<li>
<a href="https://sharstudioconf.netlify.app/">Slides</a> for that presentation.</li>
</ul>
</li>
</ul></section><section id="fin" class="level3"><h3 class="anchored" data-anchor-id="fin">Fin</h3>
<p>So that’s an overview of my approach to <strong>sharing knowledge</strong> around R Markdown, and like Alison said:</p>
<blockquote class="blockquote">
<p>But remember: there is no one way to learn R Markdown, and no one way to teach it either. I love seeing the creativity of the community when introducing the R Markdown family - so keep them coming!</p>
</blockquote>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Expand for Session Info
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>─ Session info ───────────────────────────────────────────────────────────────
 setting  value
 version  R version 4.2.0 (2022-04-22)
 os       macOS Monterey 12.2.1
 system   aarch64, darwin20
 ui       X11
 language (EN)
 collate  en_US.UTF-8
 ctype    en_US.UTF-8
 tz       America/Chicago
 date     2022-04-28
 pandoc   2.18 @ /Applications/RStudio.app/Contents/MacOS/quarto/bin/tools/ (via rmarkdown)
 quarto   0.9.294 @ /usr/local/bin/quarto

─ Packages ───────────────────────────────────────────────────────────────────
 package     * version date (UTC) lib source
 sessioninfo * 1.2.2   2021-12-06 [1] CRAN (R 4.2.0)

 [1] /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/library

──────────────────────────────────────────────────────────────────────────────</code></pre>
</div>
</div>
</div>
</div>
</div>


</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script><script src="https://utteranc.es/client.js" repo="jthomasmock/themockup-blog" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->



</body></html>