{
  "hash": "df65210e088c331526c018372eba44c4",
  "result": {
    "markdown": "---\ntitle: \"reactable - An Interactive Tables Guide\"\ndescription: |\n  Part 2: How to draw the rest of the owl.\nauthor: Thomas Mock\ndate: 05-15-2020\ncategories:\n  - NFL\n  - tidyverse\n  - tables\nimage: distill-preview.png\n---\n\n\n\n![A charcoal drawing of an owl with two steps](owl.png)\n[It is a beautiful owl/table though isn't it?]{.aside}\n\n<br>\n\nPart 2 of this guide will go through how to in fact draw the rest of the owl, as the previous post barely covered the how and instead focused on a clean final product.\n\n## `reactable` - interactive data tables\n\n`reactable` is an R wrapper for the `react table` javascript library. Greg Lin at RStudio recently made this package and you can install it from CRAN with `install.packages(\"reactable\")`. I adapted this table from some examples at the [`reactable` package site](https://glin.github.io/reactable/articles/womens-world-cup/womens-world-cup.html).\n\nIf you want to go much deeper than this basic guide, check out the [`reactable` site](https://glin.github.io/reactable/articles/examples.html), which has lots of examples!\n\nRaw data comes from: [Pro Football Reference](https://www.pro-football-reference.com/play-index/pgl_finder.cgi?request=1&match=game&year_min=2014&year_max=2019&season_start=1&season_end=-1&pos%5B%5D=QB&is_starter=E&game_type=P&career_game_num_min=1&career_game_num_max=400&qb_start_num_min=1&qb_start_num_max=400&game_num_min=0&game_num_max=99&week_num_min=0&week_num_max=99&qb_started=Y&c5val=1.0&order_by=pass_td) & [Over the Cap](https://overthecap.com/position/quarterback/)\n\n## Read in the Data\n\nI've gone through collecting the data and have put into a non-tidy wide format for Salary Rank, playoff week and appearances, Total appearances, and finally salary from 2014-2019. The raw CSV is available on [GitHub](https://raw.githubusercontent.com/jthomasmock/themockup-blog/master/_posts/2020-05-13-qb-salaries-vs-playoff-appearances/playoff_salary.csv)\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(reactable) # for interactive tables\nlibrary(tidyverse) # all the things\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n✔ ggplot2 3.3.5     ✔ purrr   0.3.4\n✔ tibble  3.1.6     ✔ dplyr   1.0.8\n✔ tidyr   1.2.0     ✔ stringr 1.4.0\n✔ readr   2.1.2     ✔ forcats 0.5.1\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(htmltools) # for building div/links\nlibrary(paletteer) # for all the palettes\n\nplayoff_salary <- read_csv(\"playoff_salary.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 36 Columns: 8\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): player\ndbl (7): Salary Rank, Wildcard, Division, Conference, Superbowl, Total, salary\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nglimpse(playoff_salary)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 36\nColumns: 8\n$ `Salary Rank` <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1…\n$ player        <chr> \"Matt Stafford\", \"Ben Roethlisberger\", \"Aaron Rodgers\", …\n$ Wildcard      <dbl> 2, 3, 2, 2, 1, 1, 1, 1, 2, 1, 2, 2, 4, 1, 2, 0, 0, 1, 1,…\n$ Division      <dbl> 0, 3, 4, 2, 0, 2, 1, 1, 2, 5, 1, 2, 4, 0, 2, 1, 1, 1, 1,…\n$ Conference    <dbl> 0, 1, 3, 1, 0, 1, 0, 0, 1, 5, 0, 0, 1, 0, 1, 1, 1, 1, 0,…\n$ Superbowl     <dbl> 0, 0, 0, 0, 0, 1, 0, 0, 1, 4, 0, 0, 1, 0, 0, 0, 1, 0, 0,…\n$ Total         <dbl> 2, 7, 9, 5, 1, 5, 2, 2, 6, 15, 3, 4, 10, 1, 5, 2, 3, 3, …\n$ salary        <dbl> 129.7, 127.7, 125.6, 125.2, 124.2, 118.0, 117.3, 106.1, …\n```\n:::\n:::\n\n## Basics of reactable\n\nA very basic `reactable` table can be created as so:\n\n::: {.cell}\n\n```{.r .cell-code}\nplayoff_salary %>%\n  reactable()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-381d9488227ec622837d\" class=\"reactable html-widget\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-381d9488227ec622837d\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"Salary Rank\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],\"player\":[\"Matt Stafford\",\"Ben Roethlisberger\",\"Aaron Rodgers\",\"Drew Brees\",\"Eli Manning\",\"Matt Ryan\",\"Philip Rivers\",\"Joe Flacco\",\"Cam Newton\",\"Tom Brady\",\"Kirk Cousins\",\"Alex Smith\",\"Russell Wilson\",\"Andy Dalton\",\"Andrew Luck\",\"Carson Palmer\",\"Jimmy Garoppolo\",\"Ryan Tannehill\",\"Tony Romo\",\"Marcus Mariota\",\"Tyrod Taylor\",\"Peyton Manning\",\"Nick Foles\",\"Blake Bortles\",\"Jared Goff\",\"Carson Wentz\",\"Case Keenum\",\"Mitchell Trubisky\",\"Brock Osweiler\",\"Brian Hoyer\",\"Teddy Bridgewater\",\"Patrick Mahomes\",\"Deshaun Watson\",\"Josh Allen\",\"Dak Prescott\",\"Lamar Jackson\"],\"Wildcard\":[2,3,2,2,1,1,1,1,2,1,2,2,4,1,2,0,0,1,1,2,1,0,1,1,1,1,0,1,1,1,1,0,2,1,1,1],\"Division\":[0,3,4,2,0,2,1,1,2,5,1,2,4,0,2,1,1,1,1,1,0,2,1,1,1,0,1,0,1,0,0,2,1,0,2,1],\"Conference\":[0,1,3,1,0,1,0,0,1,5,0,0,1,0,1,1,1,1,0,0,0,1,0,1,1,0,1,0,0,0,0,2,0,0,0,0],\"Superbowl\":[0,0,0,0,0,1,0,0,1,4,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1,0,0,0,0],\"Total\":[2,7,9,5,1,5,2,2,6,15,3,4,10,1,5,2,3,3,2,3,1,4,2,3,4,1,2,1,2,1,1,5,3,1,3,2],\"salary\":[129.7,127.7,125.6,125.2,124.2,118,117.3,106.1,104.4,100.1,98.4,93.7,91.1,80,75.3,62.9,59.8,51.2,47.6,45.1,37.7,35,33.8,31.7,29.7,26.6,24.7,19.8,15.6,12.9,12.4,11.2,9.4,8.7,4,3.9]},\"columns\":[{\"accessor\":\"Salary Rank\",\"name\":\"Salary Rank\",\"type\":\"numeric\"},{\"accessor\":\"player\",\"name\":\"player\",\"type\":\"character\"},{\"accessor\":\"Wildcard\",\"name\":\"Wildcard\",\"type\":\"numeric\"},{\"accessor\":\"Division\",\"name\":\"Division\",\"type\":\"numeric\"},{\"accessor\":\"Conference\",\"name\":\"Conference\",\"type\":\"numeric\"},{\"accessor\":\"Superbowl\",\"name\":\"Superbowl\",\"type\":\"numeric\"},{\"accessor\":\"Total\",\"name\":\"Total\",\"type\":\"numeric\"},{\"accessor\":\"salary\",\"name\":\"salary\",\"type\":\"numeric\"}],\"defaultPageSize\":10,\"paginationType\":\"numbers\",\"showPageInfo\":true,\"minRows\":1,\"dataKey\":\"044c9ce3ed4b5693afa9bb1177525e3c\",\"key\":\"044c9ce3ed4b5693afa9bb1177525e3c\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\nImmediately we have reactive table split into 4x pages with 10 observations per page. \n\nThe core parts we want to change are:  \n- Conditional color formatting for Total Appearances and Salary  \n- All on one page  \n- Change the font  \n\n# Conditional Colors\n\nLike most things in R there are **MANY** ways to generate indeterminate length color palettes. For more info about using color to represent data values check out [Claus Wilke's book section](https://clauswilke.com/dataviz/color-basics.html#color-to-represent-data-values). Importantly - we want a sequential/continuous color scale. \n\nPer Claus:\n\n> Such a scale contains a sequence of colors that clearly indicate (i) which values are larger or smaller than which other ones and (ii) how distant two specific values are from each other. The second point implies that the color scale needs to be perceived to vary uniformly across its entire range.\n> \n> Sequential scales can be based on a single hue (e.g., from dark blue to light blue) or on multiple hues (e.g., from dark red to light yellow) (Figure 4.3). Multi-hue scales tend to follow color gradients that can be seen in the natural world, such as dark red, green, or blue to light yellow, or dark purple to light green. The reverse, e.g. dark yellow to light blue, looks unnatural and doesn’t make a useful sequential scale.\n\n![Figure 4.3](https://clauswilke.com/dataviz/color_basics_files/figure-html/sequential-scales-1.png)\n\nNow there are plenty of palettes to choose from, such as `viridis`, `RColorBrewer`, `ggthemes`, as well as a nice meta collection via `paletteer`!\n\nNow it's often hard to keep track of these palettes and what they actually look like.\n\nTo display ANY palette or vector of colors in R you can use `scales::show_col()` - `scales` comes along with `ggplot2` & the `tidyverse`, so you probably don't need to install it (just load it)! Reference: [StackOverflow](https://stackoverflow.com/questions/51867716/plot-colors-with-hex-values-in-r) and [`scales`](https://scales.r-lib.org/reference/colour_ramp.html).\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(scales)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'scales'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:purrr':\n\n    discard\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:readr':\n\n    col_factor\n```\n:::\n\n```{.r .cell-code}\nscales::show_col(c(\"red\", \"black\", \"blue\", \"purple\"))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/load scales and show_col-1.png){width=672}\n:::\n:::\n\n`scales::show_col()` also works with palettes/vectors.\n\n<aside>\n::: {.cell}\n\n```{.r .cell-code}\nviridis::viridis(n = 16) %>% \n  scales::show_col()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/show_col viridis 1-1.png){width=672}\n:::\n:::\n</aside>\n\n`scales::show_col()` also works with `paletteer` or really any other palette package to display palettes/vectors. You just need to supply > 1 color as a character vector and you're good to go!\n\n<aside>\n::: {.cell}\n\n```{.r .cell-code}\n\"ggsci::red_material\" %>% \n  paletteer::paletteer_d(., n = 9) %>% \n  scales::show_col()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/show_col red-1.png){width=672}\n:::\n:::\n</aside>\n\nNow that we understand how to show colors, I'll explain a bit more about our coloring function.\n\n## Color Function\n\nI borrowed my function to generate colors scales through `grDevices::colorRamp()` from Greg Lin's examples. This makes use of `colorRamp` to generate a sequence of colors and then pull them according to a sliding scale normalized to 0-1.\n\n::: {.cell}\n\n```{.r .cell-code}\n# greg's palette\nscales::show_col(c(\"#ffffff\", \"#f2fbd2\", \"#c9ecb4\", \"#93d3ab\", \"#35b0ab\"))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/basic palette-1.png){width=672}\n:::\n:::\n\nBack to our color scale, we can display an example step-by-step.\n\n::: {.cell}\n\n```{.r .cell-code}\n# Function by Greg Lin\n# Notice bias here = a positive number. \n# Higher values give more widely spaced colors at the high end\n\nmake_color_pal <- function(colors, bias = 1) {\n  get_color <- colorRamp(colors, bias = bias)\n  function(x) rgb(get_color(x), maxColorValue = 255)\n}\n\ngood_color <- make_color_pal(c(\"#ffffff\", \"#f2fbd2\", \"#c9ecb4\", \"#93d3ab\", \"#35b0ab\"), bias = 2)\n\n# Generate a vector of example numbers between 0 and 1\nseq(0.1, 0.9, length.out = 12)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] 0.1000000 0.1727273 0.2454545 0.3181818 0.3909091 0.4636364 0.5363636\n [8] 0.6090909 0.6818182 0.7545455 0.8272727 0.9000000\n```\n:::\n\n```{.r .cell-code}\n# create matching colors\ngood_color(seq(0.1, 0.9, length.out = 12))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"#E9F8CB\" \"#D9F2C0\" \"#C9ECB4\" \"#BDE6B2\" \"#B0E0AF\" \"#A4DAAD\" \"#97D5AB\"\n [8] \"#88CFAB\" \"#79C9AB\" \"#69C3AB\" \"#5ABDAB\" \"#4AB8AB\"\n```\n:::\n\n```{.r .cell-code}\n# display the colors\nseq(0.1, 0.9, length.out = 12) %>% \n  good_color() %>% \n  scales::show_col()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/color ramp-1.png){width=672}\n:::\n:::\n\n<aside>\nThe palette that Greg and FiveThirtyEight used for this plot is roughly similar to the lower half of `viridis` - a commonly used continuous color scale that is mostly color-blind friendly.\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/viridis show_col-1.png){width=672}\n:::\n:::\n</aside>\n\n# Format by value\n\n`reactable` has a [section on conditional styling](https://glin.github.io/reactable/articles/conditional-styling.html) - either logical or based on a continuous scale. You can use R or JavaScript functions to change the style of cells.\n\nThe core table is seen below with comments added to highlight some emphasized changes.\n\n::: {.cell}\n\n```{.r .cell-code}\nplayoff_salary %>% \n  mutate(salary = round(salary, 1)) %>% \n    \n    ##########################\n    ### This section changed\n    ##########################\n  reactable(\n    # ALL one page option (no scrolling or page swapping)\n    pagination = TRUE,\n    # compact for an overall smaller table width wise\n    compact = TRUE,\n    # borderless - TRUE or FALSE\n    borderless = FALSE,\n    # Stripes - TRUE or FALSE\n    striped = FALSE,\n    # fullWidth - either fit to width or not\n    fullWidth = FALSE,\n    # apply defaults\n    # 100 px and align to center of column\n    defaultColDef = colDef(\n      align = \"center\",\n      minWidth = 100\n    ))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-73261a50697cea480ec2\" class=\"reactable html-widget\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-73261a50697cea480ec2\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"Salary Rank\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],\"player\":[\"Matt Stafford\",\"Ben Roethlisberger\",\"Aaron Rodgers\",\"Drew Brees\",\"Eli Manning\",\"Matt Ryan\",\"Philip Rivers\",\"Joe Flacco\",\"Cam Newton\",\"Tom Brady\",\"Kirk Cousins\",\"Alex Smith\",\"Russell Wilson\",\"Andy Dalton\",\"Andrew Luck\",\"Carson Palmer\",\"Jimmy Garoppolo\",\"Ryan Tannehill\",\"Tony Romo\",\"Marcus Mariota\",\"Tyrod Taylor\",\"Peyton Manning\",\"Nick Foles\",\"Blake Bortles\",\"Jared Goff\",\"Carson Wentz\",\"Case Keenum\",\"Mitchell Trubisky\",\"Brock Osweiler\",\"Brian Hoyer\",\"Teddy Bridgewater\",\"Patrick Mahomes\",\"Deshaun Watson\",\"Josh Allen\",\"Dak Prescott\",\"Lamar Jackson\"],\"Wildcard\":[2,3,2,2,1,1,1,1,2,1,2,2,4,1,2,0,0,1,1,2,1,0,1,1,1,1,0,1,1,1,1,0,2,1,1,1],\"Division\":[0,3,4,2,0,2,1,1,2,5,1,2,4,0,2,1,1,1,1,1,0,2,1,1,1,0,1,0,1,0,0,2,1,0,2,1],\"Conference\":[0,1,3,1,0,1,0,0,1,5,0,0,1,0,1,1,1,1,0,0,0,1,0,1,1,0,1,0,0,0,0,2,0,0,0,0],\"Superbowl\":[0,0,0,0,0,1,0,0,1,4,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1,0,0,0,0],\"Total\":[2,7,9,5,1,5,2,2,6,15,3,4,10,1,5,2,3,3,2,3,1,4,2,3,4,1,2,1,2,1,1,5,3,1,3,2],\"salary\":[129.7,127.7,125.6,125.2,124.2,118,117.3,106.1,104.4,100.1,98.4,93.7,91.1,80,75.3,62.9,59.8,51.2,47.6,45.1,37.7,35,33.8,31.7,29.7,26.6,24.7,19.8,15.6,12.9,12.4,11.2,9.4,8.7,4,3.9]},\"columns\":[{\"accessor\":\"Salary Rank\",\"name\":\"Salary Rank\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"player\",\"name\":\"player\",\"type\":\"character\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Wildcard\",\"name\":\"Wildcard\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Division\",\"name\":\"Division\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Conference\",\"name\":\"Conference\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Superbowl\",\"name\":\"Superbowl\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Total\",\"name\":\"Total\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"salary\",\"name\":\"salary\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"}],\"defaultPageSize\":10,\"paginationType\":\"numbers\",\"showPageInfo\":true,\"minRows\":1,\"compact\":true,\"inline\":true,\"dataKey\":\"b7fefbdf3d0a6149758ebcf5c98ae72e\",\"key\":\"b7fefbdf3d0a6149758ebcf5c98ae72e\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\nTo actually change the color according to our color scale, we can use the below code. We are defining an anonymous (unsaved) function and using our `good_color()` function to generate values along our scale.\n\n::: {.cell}\n\n```{.r .cell-code}\nplayoff_salary %>% \n  mutate(salary = round(salary, 1)) %>% \n  reactable(\n    # ALL one page (no scrolling or page swapping)\n    pagination = TRUE,\n    # compact for an overall smaller table width wise\n    compact = TRUE,\n    # borderless - TRUE or FALSE\n    borderless = FALSE,\n    # Stripes - TRUE or FALSE\n    striped = FALSE,\n    # fullWidth - either fit to width or not\n    fullWidth = FALSE,\n    # apply defaults\n    # 100 px and align to center of column\n    defaultColDef = colDef(\n      align = \"center\",\n      minWidth = 100\n    ),\n    \n      ##########################\n      ### This section changed\n      ##########################\n    \n    # This part allows us to apply specific things to each column\n    columns = list(\n      salary = colDef(\n        name = \"Salary\",\n        style = function(value) {\n          value\n          normalized <- (value - min(playoff_salary$salary)) / (max(playoff_salary$salary) - min(playoff_salary$salary))\n          color <- good_color(normalized)\n          list(background = color)\n        }\n      )\n      )\n    )\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-e5d74314a2e9c38f65ba\" class=\"reactable html-widget\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e5d74314a2e9c38f65ba\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"Salary Rank\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],\"player\":[\"Matt Stafford\",\"Ben Roethlisberger\",\"Aaron Rodgers\",\"Drew Brees\",\"Eli Manning\",\"Matt Ryan\",\"Philip Rivers\",\"Joe Flacco\",\"Cam Newton\",\"Tom Brady\",\"Kirk Cousins\",\"Alex Smith\",\"Russell Wilson\",\"Andy Dalton\",\"Andrew Luck\",\"Carson Palmer\",\"Jimmy Garoppolo\",\"Ryan Tannehill\",\"Tony Romo\",\"Marcus Mariota\",\"Tyrod Taylor\",\"Peyton Manning\",\"Nick Foles\",\"Blake Bortles\",\"Jared Goff\",\"Carson Wentz\",\"Case Keenum\",\"Mitchell Trubisky\",\"Brock Osweiler\",\"Brian Hoyer\",\"Teddy Bridgewater\",\"Patrick Mahomes\",\"Deshaun Watson\",\"Josh Allen\",\"Dak Prescott\",\"Lamar Jackson\"],\"Wildcard\":[2,3,2,2,1,1,1,1,2,1,2,2,4,1,2,0,0,1,1,2,1,0,1,1,1,1,0,1,1,1,1,0,2,1,1,1],\"Division\":[0,3,4,2,0,2,1,1,2,5,1,2,4,0,2,1,1,1,1,1,0,2,1,1,1,0,1,0,1,0,0,2,1,0,2,1],\"Conference\":[0,1,3,1,0,1,0,0,1,5,0,0,1,0,1,1,1,1,0,0,0,1,0,1,1,0,1,0,0,0,0,2,0,0,0,0],\"Superbowl\":[0,0,0,0,0,1,0,0,1,4,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1,0,0,0,0],\"Total\":[2,7,9,5,1,5,2,2,6,15,3,4,10,1,5,2,3,3,2,3,1,4,2,3,4,1,2,1,2,1,1,5,3,1,3,2],\"salary\":[129.7,127.7,125.6,125.2,124.2,118,117.3,106.1,104.4,100.1,98.4,93.7,91.1,80,75.3,62.9,59.8,51.2,47.6,45.1,37.7,35,33.8,31.7,29.7,26.6,24.7,19.8,15.6,12.9,12.4,11.2,9.4,8.7,4,3.9]},\"columns\":[{\"accessor\":\"Salary Rank\",\"name\":\"Salary Rank\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"player\",\"name\":\"player\",\"type\":\"character\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Wildcard\",\"name\":\"Wildcard\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Division\",\"name\":\"Division\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Conference\",\"name\":\"Conference\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Superbowl\",\"name\":\"Superbowl\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Total\",\"name\":\"Total\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"salary\",\"name\":\"Salary\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\",\"style\":[{\"background\":\"#35B0AB\"},{\"background\":\"#38B1AB\"},{\"background\":\"#3CB2AB\"},{\"background\":\"#3CB2AB\"},{\"background\":\"#3EB3AB\"},{\"background\":\"#48B7AB\"},{\"background\":\"#4AB7AB\"},{\"background\":\"#5DBFAB\"},{\"background\":\"#60C0AB\"},{\"background\":\"#67C2AB\"},{\"background\":\"#6AC3AB\"},{\"background\":\"#72C6AB\"},{\"background\":\"#76C8AB\"},{\"background\":\"#89CFAB\"},{\"background\":\"#91D2AB\"},{\"background\":\"#A3DAAD\"},{\"background\":\"#A7DCAE\"},{\"background\":\"#B3E1B0\"},{\"background\":\"#B8E4B1\"},{\"background\":\"#BBE5B1\"},{\"background\":\"#C5EAB3\"},{\"background\":\"#C9ECB4\"},{\"background\":\"#CBECB5\"},{\"background\":\"#CFEEB8\"},{\"background\":\"#D2EFBB\"},{\"background\":\"#D8F1BF\"},{\"background\":\"#DBF2C1\"},{\"background\":\"#E4F5C7\"},{\"background\":\"#EBF8CD\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#F0FAD1\"},{\"background\":\"#F2FBD5\"},{\"background\":\"#F5FCDF\"},{\"background\":\"#F7FCE3\"},{\"background\":\"#FEFEFE\"},{\"background\":\"#FFFFFF\"}]}],\"defaultPageSize\":10,\"paginationType\":\"numbers\",\"showPageInfo\":true,\"minRows\":1,\"compact\":true,\"inline\":true,\"dataKey\":\"4a769112bfa5aac6bbf3beca88aae3c4\",\"key\":\"4a769112bfa5aac6bbf3beca88aae3c4\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\nWoo! We now have a color scale ranging from about 4 million to 130 million, but let's indicate Millions with an M so that people don't get confused. There is a bit of JavaScript code here - please note, I don't know JavaScript BUT JavaScript can be a functional programming language, so I bet the code below looks readable to you! In this case, `cellInfo.value` is like `dataframe$value`, so it will parse through and apply the function to each cell in our table.\n\nI adapted this code from [StackOverflow](https://stackoverflow.com/questions/46656851/format-number-into-kthousand-mmillion-in-shiny-datatables).\n\n::: {.cell}\n\n```{.r .cell-code}\n\"function(cellInfo) { return '$' + cellInfo.value + ' M'}\"\n```\n:::\n\nFormatting numbers all together now, with both the color function and the JS function to add dollar + M to our cells.\n\n::: {.cell}\n\n```{.r .cell-code}\nplayoff_salary %>% \n  mutate(salary = round(salary, 1)) %>% \n  reactable(\n    # ALL one page (no scrolling or page swapping)\n    pagination = TRUE,\n    # compact for an overall smaller table width wise\n    compact = TRUE,\n    # borderless - TRUE or FALSE\n    borderless = FALSE,\n    # Stripes - TRUE or FALSE\n    striped = FALSE,\n    # fullWidth - either fit to width or not\n    fullWidth = FALSE,\n    # apply defaults\n    # 100 px and align to center of column\n    defaultColDef = colDef(\n      align = \"center\",\n      minWidth = 100\n    ),\n    \n      ##########################\n      ### This section changed\n      ##########################\n    \n    # This part allows us to apply specific things to each column\n    columns = list(\n      salary = colDef(\n        # note I can re-define the name of salary to Salary\n        name = \"Salary\",\n        style = function(value) {\n          value\n          # normalize each value relative to min/max (scale between 0 and 1)\n          normalized <- (value - min(playoff_salary$salary)) / (max(playoff_salary$salary) - min(playoff_salary$salary))\n          # assign a color base on the normalized value\n          color <- good_color(normalized)\n          # return a list object of the color\n          list(background = color)\n        },\n        # This is javascript to take the cell's value and add an M to the value\n        # Note that because this is done at the JS level\n        # the columns still sort properly (they're still numbers!)\n        # There are built in format currency options, but not one\n        # for compressing to Millions AND to dollars for example\n        cell = JS(\"function(cellInfo) { return '$' + cellInfo.value + ' M'}\")\n      )\n      )\n  )\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-8305cc85ed176f97364c\" class=\"reactable html-widget\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-8305cc85ed176f97364c\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"Salary Rank\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],\"player\":[\"Matt Stafford\",\"Ben Roethlisberger\",\"Aaron Rodgers\",\"Drew Brees\",\"Eli Manning\",\"Matt Ryan\",\"Philip Rivers\",\"Joe Flacco\",\"Cam Newton\",\"Tom Brady\",\"Kirk Cousins\",\"Alex Smith\",\"Russell Wilson\",\"Andy Dalton\",\"Andrew Luck\",\"Carson Palmer\",\"Jimmy Garoppolo\",\"Ryan Tannehill\",\"Tony Romo\",\"Marcus Mariota\",\"Tyrod Taylor\",\"Peyton Manning\",\"Nick Foles\",\"Blake Bortles\",\"Jared Goff\",\"Carson Wentz\",\"Case Keenum\",\"Mitchell Trubisky\",\"Brock Osweiler\",\"Brian Hoyer\",\"Teddy Bridgewater\",\"Patrick Mahomes\",\"Deshaun Watson\",\"Josh Allen\",\"Dak Prescott\",\"Lamar Jackson\"],\"Wildcard\":[2,3,2,2,1,1,1,1,2,1,2,2,4,1,2,0,0,1,1,2,1,0,1,1,1,1,0,1,1,1,1,0,2,1,1,1],\"Division\":[0,3,4,2,0,2,1,1,2,5,1,2,4,0,2,1,1,1,1,1,0,2,1,1,1,0,1,0,1,0,0,2,1,0,2,1],\"Conference\":[0,1,3,1,0,1,0,0,1,5,0,0,1,0,1,1,1,1,0,0,0,1,0,1,1,0,1,0,0,0,0,2,0,0,0,0],\"Superbowl\":[0,0,0,0,0,1,0,0,1,4,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1,0,0,0,0],\"Total\":[2,7,9,5,1,5,2,2,6,15,3,4,10,1,5,2,3,3,2,3,1,4,2,3,4,1,2,1,2,1,1,5,3,1,3,2],\"salary\":[129.7,127.7,125.6,125.2,124.2,118,117.3,106.1,104.4,100.1,98.4,93.7,91.1,80,75.3,62.9,59.8,51.2,47.6,45.1,37.7,35,33.8,31.7,29.7,26.6,24.7,19.8,15.6,12.9,12.4,11.2,9.4,8.7,4,3.9]},\"columns\":[{\"accessor\":\"Salary Rank\",\"name\":\"Salary Rank\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"player\",\"name\":\"player\",\"type\":\"character\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Wildcard\",\"name\":\"Wildcard\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Division\",\"name\":\"Division\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Conference\",\"name\":\"Conference\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Superbowl\",\"name\":\"Superbowl\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Total\",\"name\":\"Total\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"salary\",\"name\":\"Salary\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\",\"cell\":\"function(cellInfo) { return '$' + cellInfo.value + ' M'}\",\"style\":[{\"background\":\"#35B0AB\"},{\"background\":\"#38B1AB\"},{\"background\":\"#3CB2AB\"},{\"background\":\"#3CB2AB\"},{\"background\":\"#3EB3AB\"},{\"background\":\"#48B7AB\"},{\"background\":\"#4AB7AB\"},{\"background\":\"#5DBFAB\"},{\"background\":\"#60C0AB\"},{\"background\":\"#67C2AB\"},{\"background\":\"#6AC3AB\"},{\"background\":\"#72C6AB\"},{\"background\":\"#76C8AB\"},{\"background\":\"#89CFAB\"},{\"background\":\"#91D2AB\"},{\"background\":\"#A3DAAD\"},{\"background\":\"#A7DCAE\"},{\"background\":\"#B3E1B0\"},{\"background\":\"#B8E4B1\"},{\"background\":\"#BBE5B1\"},{\"background\":\"#C5EAB3\"},{\"background\":\"#C9ECB4\"},{\"background\":\"#CBECB5\"},{\"background\":\"#CFEEB8\"},{\"background\":\"#D2EFBB\"},{\"background\":\"#D8F1BF\"},{\"background\":\"#DBF2C1\"},{\"background\":\"#E4F5C7\"},{\"background\":\"#EBF8CD\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#F0FAD1\"},{\"background\":\"#F2FBD5\"},{\"background\":\"#F5FCDF\"},{\"background\":\"#F7FCE3\"},{\"background\":\"#FEFEFE\"},{\"background\":\"#FFFFFF\"}]}],\"defaultPageSize\":10,\"paginationType\":\"numbers\",\"showPageInfo\":true,\"minRows\":1,\"compact\":true,\"inline\":true,\"dataKey\":\"0518291b699856178181c48e7d30f898\",\"key\":\"0518291b699856178181c48e7d30f898\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[\"tag.attribs.columns.7.cell\"],\"jsHooks\":[]}</script>\n```\n:::\n:::\n## Format Total Column\n\nNow we can use a similar approach to add color to our Total playoff appearances column. \n\n::: {.cell}\n\n```{.r .cell-code}\ntbl <- playoff_salary %>% \n  mutate(salary = round(salary, 1)) %>% \n  reactable(\n    pagination = FALSE,\n    compact = TRUE,\n    borderless = FALSE,\n    striped = FALSE,\n    fullWidth = FALSE,\n    defaultColDef = colDef(\n      align = \"center\",\n      minWidth = 100\n    ),\n    # Add theme for the top border\n    theme = reactableTheme(\n      headerStyle = list(\n        \"&:hover[aria-sort]\" = list(background = \"hsl(0, 0%, 96%)\"),\n        \"&[aria-sort='ascending'], &[aria-sort='descending']\" = list(background = \"hsl(0, 0%, 96%)\"),\n        borderColor = \"#555\"\n      )\n    ),\n    columns = list(\n      salary = colDef(\n        name = \"Salary\",\n        style = function(value) {\n          value\n          normalized <- (value - min(playoff_salary$salary)) / (max(playoff_salary$salary) - min(playoff_salary$salary))\n          color <- good_color(normalized)\n          list(background = color)\n        },\n        cell = JS(\"function(cellInfo) {return '$' + cellInfo.value + 'M'}\")\n      ),\n      \n      ##########################\n      ### This section changed\n      ##########################\n      # We can now do a similar function for Total to color according to a\n      # normalized scale\n      Total = colDef(\n        style = function(value) {\n          value\n          normalized <- (value - min(playoff_salary$Total)) / (max(playoff_salary$Total) - min(playoff_salary$Total))\n          color <- good_color(normalized)\n          list(background = color)\n        },\n        # we'll also add a border to the left of this column\n        class = \"border-left\"\n      ),\n      # and change the width/alignment of the player column\n      player = colDef(\n        # Change player to Name\n        name = \"Name\",\n        # Widen it so that player names don't get wrapped as much\n        minWidth = 140,\n        # Align left as it is a wide column\n        # this overrides the default above\n        align = \"left\"\n      )\n    )\n  )\n\ntbl\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-729ef5af6d3374cc4143\" class=\"reactable html-widget\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-729ef5af6d3374cc4143\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"Salary Rank\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],\"player\":[\"Matt Stafford\",\"Ben Roethlisberger\",\"Aaron Rodgers\",\"Drew Brees\",\"Eli Manning\",\"Matt Ryan\",\"Philip Rivers\",\"Joe Flacco\",\"Cam Newton\",\"Tom Brady\",\"Kirk Cousins\",\"Alex Smith\",\"Russell Wilson\",\"Andy Dalton\",\"Andrew Luck\",\"Carson Palmer\",\"Jimmy Garoppolo\",\"Ryan Tannehill\",\"Tony Romo\",\"Marcus Mariota\",\"Tyrod Taylor\",\"Peyton Manning\",\"Nick Foles\",\"Blake Bortles\",\"Jared Goff\",\"Carson Wentz\",\"Case Keenum\",\"Mitchell Trubisky\",\"Brock Osweiler\",\"Brian Hoyer\",\"Teddy Bridgewater\",\"Patrick Mahomes\",\"Deshaun Watson\",\"Josh Allen\",\"Dak Prescott\",\"Lamar Jackson\"],\"Wildcard\":[2,3,2,2,1,1,1,1,2,1,2,2,4,1,2,0,0,1,1,2,1,0,1,1,1,1,0,1,1,1,1,0,2,1,1,1],\"Division\":[0,3,4,2,0,2,1,1,2,5,1,2,4,0,2,1,1,1,1,1,0,2,1,1,1,0,1,0,1,0,0,2,1,0,2,1],\"Conference\":[0,1,3,1,0,1,0,0,1,5,0,0,1,0,1,1,1,1,0,0,0,1,0,1,1,0,1,0,0,0,0,2,0,0,0,0],\"Superbowl\":[0,0,0,0,0,1,0,0,1,4,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1,0,0,0,0],\"Total\":[2,7,9,5,1,5,2,2,6,15,3,4,10,1,5,2,3,3,2,3,1,4,2,3,4,1,2,1,2,1,1,5,3,1,3,2],\"salary\":[129.7,127.7,125.6,125.2,124.2,118,117.3,106.1,104.4,100.1,98.4,93.7,91.1,80,75.3,62.9,59.8,51.2,47.6,45.1,37.7,35,33.8,31.7,29.7,26.6,24.7,19.8,15.6,12.9,12.4,11.2,9.4,8.7,4,3.9]},\"columns\":[{\"accessor\":\"Salary Rank\",\"name\":\"Salary Rank\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"player\",\"name\":\"Name\",\"type\":\"character\",\"minWidth\":140,\"align\":\"left\"},{\"accessor\":\"Wildcard\",\"name\":\"Wildcard\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Division\",\"name\":\"Division\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Conference\",\"name\":\"Conference\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Superbowl\",\"name\":\"Superbowl\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Total\",\"name\":\"Total\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\",\"className\":\"border-left\",\"style\":[{\"background\":\"#F0FAD0\"},{\"background\":\"#AADDAE\"},{\"background\":\"#91D2AB\"},{\"background\":\"#C2E9B2\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#C2E9B2\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#B6E3B0\"},{\"background\":\"#35B0AB\"},{\"background\":\"#E0F4C5\"},{\"background\":\"#D0EEB9\"},{\"background\":\"#81CCAB\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#C2E9B2\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#E0F4C5\"},{\"background\":\"#E0F4C5\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#E0F4C5\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#D0EEB9\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#E0F4C5\"},{\"background\":\"#D0EEB9\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#C2E9B2\"},{\"background\":\"#E0F4C5\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#E0F4C5\"},{\"background\":\"#F0FAD0\"}]},{\"accessor\":\"salary\",\"name\":\"Salary\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\",\"cell\":\"function(cellInfo) {return '$' + cellInfo.value + 'M'}\",\"style\":[{\"background\":\"#35B0AB\"},{\"background\":\"#38B1AB\"},{\"background\":\"#3CB2AB\"},{\"background\":\"#3CB2AB\"},{\"background\":\"#3EB3AB\"},{\"background\":\"#48B7AB\"},{\"background\":\"#4AB7AB\"},{\"background\":\"#5DBFAB\"},{\"background\":\"#60C0AB\"},{\"background\":\"#67C2AB\"},{\"background\":\"#6AC3AB\"},{\"background\":\"#72C6AB\"},{\"background\":\"#76C8AB\"},{\"background\":\"#89CFAB\"},{\"background\":\"#91D2AB\"},{\"background\":\"#A3DAAD\"},{\"background\":\"#A7DCAE\"},{\"background\":\"#B3E1B0\"},{\"background\":\"#B8E4B1\"},{\"background\":\"#BBE5B1\"},{\"background\":\"#C5EAB3\"},{\"background\":\"#C9ECB4\"},{\"background\":\"#CBECB5\"},{\"background\":\"#CFEEB8\"},{\"background\":\"#D2EFBB\"},{\"background\":\"#D8F1BF\"},{\"background\":\"#DBF2C1\"},{\"background\":\"#E4F5C7\"},{\"background\":\"#EBF8CD\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#F0FAD1\"},{\"background\":\"#F2FBD5\"},{\"background\":\"#F5FCDF\"},{\"background\":\"#F7FCE3\"},{\"background\":\"#FEFEFE\"},{\"background\":\"#FFFFFF\"}]}],\"defaultPageSize\":36,\"paginationType\":\"numbers\",\"showPageInfo\":true,\"minRows\":1,\"compact\":true,\"inline\":true,\"theme\":{\"headerStyle\":{\"&:hover[aria-sort]\":{\"background\":\"hsl(0, 0%, 96%)\"},\"&[aria-sort='ascending'], &[aria-sort='descending']\":{\"background\":\"hsl(0, 0%, 96%)\"},\"borderColor\":\"#555\"}},\"dataKey\":\"16d0a1431b69a715339ff702fc5e0fc1\",\"key\":\"16d0a1431b69a715339ff702fc5e0fc1\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[\"tag.attribs.columns.7.cell\"],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n# CSS & Fonts\n\nNote that the above table is essentially `done`. It has all the core changes we wanted (conditional color and interactivity). Everything below is `extra`^[Extra can be good! It's just sometimes hard... see [RMarkdown Book](https://bookdown.org/yihui/rmarkdown/language-engines.html#javascript-and-css) for more] stuff that I am also adapting from Greg's example with the Women's World Cup table.\n\n## Build structure\n\nBy building up our plot inside div containers and assiging a class we can use CSS to further style or add to our table. The main things I'm interested in is changing the base font to one I love (`Fira Mono`)! However, Greg included some niceties for some additional table formatting that I copied over as well.\n\nMy mental model of `div` building is that it's like nesting dolls. Main div which is the whole table, header and footer, and then additional nested `div` for other classes that we can call against.\n:::{.column-page}\n\n::: {.cell}\n\n```{.r .cell-code}\ndiv(\n  # this class can be called with CSS now via .salary\n  class = \"salary\",\n  div(\n    # this can be called with CSS now via .title\n    class = \"title\",\n    h2(\"2014-2019 Salary and Playoff Appearances\"),\n    # This is kind of like a sub-title, but really it's just raw text\n    \"QBs limited to playoff games where they threw a pass\"\n  ),\n  # The actual table\n  tbl,\n  # I use a span here so I can assigna  color to this text\n  tags$span(style = \"color:#C8C8C8\", \"TABLE: @THOMAS_MOCK | DATA: PRO-FOOTBALL-REFERENCE.COM & OVERTHECAP.COM\")\n)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"salary\">\n<div class=\"title\">\n<h2>2014-2019 Salary and Playoff Appearances</h2>\nQBs limited to playoff games where they threw a pass\n</div>\n<div id=\"htmlwidget-07c10daf099c6175d321\" class=\"reactable html-widget\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-07c10daf099c6175d321\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"Salary Rank\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],\"player\":[\"Matt Stafford\",\"Ben Roethlisberger\",\"Aaron Rodgers\",\"Drew Brees\",\"Eli Manning\",\"Matt Ryan\",\"Philip Rivers\",\"Joe Flacco\",\"Cam Newton\",\"Tom Brady\",\"Kirk Cousins\",\"Alex Smith\",\"Russell Wilson\",\"Andy Dalton\",\"Andrew Luck\",\"Carson Palmer\",\"Jimmy Garoppolo\",\"Ryan Tannehill\",\"Tony Romo\",\"Marcus Mariota\",\"Tyrod Taylor\",\"Peyton Manning\",\"Nick Foles\",\"Blake Bortles\",\"Jared Goff\",\"Carson Wentz\",\"Case Keenum\",\"Mitchell Trubisky\",\"Brock Osweiler\",\"Brian Hoyer\",\"Teddy Bridgewater\",\"Patrick Mahomes\",\"Deshaun Watson\",\"Josh Allen\",\"Dak Prescott\",\"Lamar Jackson\"],\"Wildcard\":[2,3,2,2,1,1,1,1,2,1,2,2,4,1,2,0,0,1,1,2,1,0,1,1,1,1,0,1,1,1,1,0,2,1,1,1],\"Division\":[0,3,4,2,0,2,1,1,2,5,1,2,4,0,2,1,1,1,1,1,0,2,1,1,1,0,1,0,1,0,0,2,1,0,2,1],\"Conference\":[0,1,3,1,0,1,0,0,1,5,0,0,1,0,1,1,1,1,0,0,0,1,0,1,1,0,1,0,0,0,0,2,0,0,0,0],\"Superbowl\":[0,0,0,0,0,1,0,0,1,4,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,1,0,0,0,0],\"Total\":[2,7,9,5,1,5,2,2,6,15,3,4,10,1,5,2,3,3,2,3,1,4,2,3,4,1,2,1,2,1,1,5,3,1,3,2],\"salary\":[129.7,127.7,125.6,125.2,124.2,118,117.3,106.1,104.4,100.1,98.4,93.7,91.1,80,75.3,62.9,59.8,51.2,47.6,45.1,37.7,35,33.8,31.7,29.7,26.6,24.7,19.8,15.6,12.9,12.4,11.2,9.4,8.7,4,3.9]},\"columns\":[{\"accessor\":\"Salary Rank\",\"name\":\"Salary Rank\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"player\",\"name\":\"Name\",\"type\":\"character\",\"minWidth\":140,\"align\":\"left\"},{\"accessor\":\"Wildcard\",\"name\":\"Wildcard\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Division\",\"name\":\"Division\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Conference\",\"name\":\"Conference\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Superbowl\",\"name\":\"Superbowl\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\"},{\"accessor\":\"Total\",\"name\":\"Total\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\",\"className\":\"border-left\",\"style\":[{\"background\":\"#F0FAD0\"},{\"background\":\"#AADDAE\"},{\"background\":\"#91D2AB\"},{\"background\":\"#C2E9B2\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#C2E9B2\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#B6E3B0\"},{\"background\":\"#35B0AB\"},{\"background\":\"#E0F4C5\"},{\"background\":\"#D0EEB9\"},{\"background\":\"#81CCAB\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#C2E9B2\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#E0F4C5\"},{\"background\":\"#E0F4C5\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#E0F4C5\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#D0EEB9\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#E0F4C5\"},{\"background\":\"#D0EEB9\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#C2E9B2\"},{\"background\":\"#E0F4C5\"},{\"background\":\"#FFFFFF\"},{\"background\":\"#E0F4C5\"},{\"background\":\"#F0FAD0\"}]},{\"accessor\":\"salary\",\"name\":\"Salary\",\"type\":\"numeric\",\"minWidth\":100,\"align\":\"center\",\"cell\":\"function(cellInfo) {return '$' + cellInfo.value + 'M'}\",\"style\":[{\"background\":\"#35B0AB\"},{\"background\":\"#38B1AB\"},{\"background\":\"#3CB2AB\"},{\"background\":\"#3CB2AB\"},{\"background\":\"#3EB3AB\"},{\"background\":\"#48B7AB\"},{\"background\":\"#4AB7AB\"},{\"background\":\"#5DBFAB\"},{\"background\":\"#60C0AB\"},{\"background\":\"#67C2AB\"},{\"background\":\"#6AC3AB\"},{\"background\":\"#72C6AB\"},{\"background\":\"#76C8AB\"},{\"background\":\"#89CFAB\"},{\"background\":\"#91D2AB\"},{\"background\":\"#A3DAAD\"},{\"background\":\"#A7DCAE\"},{\"background\":\"#B3E1B0\"},{\"background\":\"#B8E4B1\"},{\"background\":\"#BBE5B1\"},{\"background\":\"#C5EAB3\"},{\"background\":\"#C9ECB4\"},{\"background\":\"#CBECB5\"},{\"background\":\"#CFEEB8\"},{\"background\":\"#D2EFBB\"},{\"background\":\"#D8F1BF\"},{\"background\":\"#DBF2C1\"},{\"background\":\"#E4F5C7\"},{\"background\":\"#EBF8CD\"},{\"background\":\"#F0FAD0\"},{\"background\":\"#F0FAD1\"},{\"background\":\"#F2FBD5\"},{\"background\":\"#F5FCDF\"},{\"background\":\"#F7FCE3\"},{\"background\":\"#FEFEFE\"},{\"background\":\"#FFFFFF\"}]}],\"defaultPageSize\":36,\"paginationType\":\"numbers\",\"showPageInfo\":true,\"minRows\":1,\"compact\":true,\"inline\":true,\"theme\":{\"headerStyle\":{\"&:hover[aria-sort]\":{\"background\":\"hsl(0, 0%, 96%)\"},\"&[aria-sort='ascending'], &[aria-sort='descending']\":{\"background\":\"hsl(0, 0%, 96%)\"},\"borderColor\":\"#555\"}},\"dataKey\":\"16d0a1431b69a715339ff702fc5e0fc1\",\"key\":\"16d0a1431b69a715339ff702fc5e0fc1\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[\"tag.attribs.columns.7.cell\"],\"jsHooks\":[]}</script>\n<span style=\"color:#C8C8C8\">TABLE: @THOMAS_MOCK | DATA: PRO-FOOTBALL-REFERENCE.COM &amp; OVERTHECAP.COM</span>\n</div>\n```\n:::\n:::\n\n:::\n\n### Import Google Font\n\nI want to use a Google font (Karla + Fira Mono).\n\nYou can see all the [Google Fonts here](https://fonts.google.com/). At [fonts.google.com](https://fonts.google.com) you'll:  \n- Search for specific fonts  \n- Select the Style you want (+ button)  \n- [Open the sidebar](https://fonts.google.com/specimen/Karla?selection.family=Fira+Mono:wght@500|Karla:ital@1&query=karla&sidebar.open) to extract the API call for embedding  \n\nExample image below\n\n![Steps to select, get and copy embed for Google Fonts](ss_gfonts.png)\n\nYou then paste the text inside the `<link >` into a `tags$link()` call from `htmltools` package. \n\nFor example: \n\n```\n<link href=\"https://fonts.googleapis.com/css?family=Karla:400,700|Fira+Mono&display=fallback\" rel=\"stylesheet\">\n```\n\nturns into the below:\n\n::: {.cell}\n\n```{.r .cell-code}\ntags$link(href = \"https://fonts.googleapis.com/css?family=Karla:400,700|Fira+Mono&display=fallback\", rel = \"stylesheet\")\n```\n\n::: {.cell-output-display}\n`<link href=\"https://fonts.googleapis.com/css?family=Karla:400,700|Fira+Mono&amp;display=fallback\" rel=\"stylesheet\"/>`{=html}\n:::\n:::\n\n## Add CSS\n\nThis is a CSS chunk and the CSS is applied to objects matching their name, ie `.salary` matches the `div` we built earlier, `.number` applies to all `class = number` from our table, `.title` applies to the `class = title` in our table.\n\nNote that if I work locally not all of this will show up, but once the complete RMarkdown is knit together it will work.\n\n::: {.cell}\n\n```{.css .cell-code}\n.salary {\n  font-family: Karla, \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n}\n\n.number {\n  font-family: \"Fira Mono\", Consolas, Monaco, monospace;\n  font-size: 16px;\n  line-height: 30px;\n  white-space: pre;\n}\n\n.title {\n  margin: 18px 0;\n  font-size: 16px;\n}\n\n.title h2 {\n  font-size: 20px;\n  font-weight: 600;\n}\n\n.header:hover,\n.header[aria-sort=\"ascending\"],\n.header[aria-sort=\"descending\"] {\n  background-color: #eee;\n}\n\n.salary-table {\n  margin-bottom: 20px;\n}\n\n/* Align header text to the bottom */\n.header,\n.group-header {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n}\n\n.header {\n  border-bottom-color: #555;\n  font-size: 13px;\n  font-weight: 400;\n  text-transform: uppercase;\n}\n\n/* Highlight headers when sorting */\n.header:hover,\n.header[aria-sort=\"ascending\"],\n.header[aria-sort=\"descending\"] {\n  background-color: #eee;\n}\n\n.border-left {\n  border-left: 2px solid #555;\n}\n\n/* Use box-shadow to create row borders that appear behind vertical borders */\n.cell {\n  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);\n}\n```\n\n\n<style type=\"text/css\">\n.salary {\n  font-family: Karla, \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n}\n\n.number {\n  font-family: \"Fira Mono\", Consolas, Monaco, monospace;\n  font-size: 16px;\n  line-height: 30px;\n  white-space: pre;\n}\n\n.title {\n  margin: 18px 0;\n  font-size: 16px;\n}\n\n.title h2 {\n  font-size: 20px;\n  font-weight: 600;\n}\n\n.header:hover,\n.header[aria-sort=\"ascending\"],\n.header[aria-sort=\"descending\"] {\n  background-color: #eee;\n}\n\n.salary-table {\n  margin-bottom: 20px;\n}\n\n/* Align header text to the bottom */\n.header,\n.group-header {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n}\n\n.header {\n  border-bottom-color: #555;\n  font-size: 13px;\n  font-weight: 400;\n  text-transform: uppercase;\n}\n\n/* Highlight headers when sorting */\n.header:hover,\n.header[aria-sort=\"ascending\"],\n.header[aria-sort=\"descending\"] {\n  background-color: #eee;\n}\n\n.border-left {\n  border-left: 2px solid #555;\n}\n\n/* Use box-shadow to create row borders that appear behind vertical borders */\n.cell {\n  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);\n}\n</style>\n:::\n\n# Full Code\n\nBelow is the raw code to generate the table altogether now. This is all adapted from the [`reactable` cookbook](https://glin.github.io/reactable/articles/womens-world-cup/womens-world-cup.html).\n\nThe CSS and HTML helpers do some light-lifting for custom text and borders.\n\n::: {.cell}\n\n```{.r .cell-code}\nmake_color_pal <- function(colors, bias = 1) {\n  get_color <- colorRamp(colors, bias = bias)\n  function(x) rgb(get_color(x), maxColorValue = 255)\n}\n\ngood_color <- make_color_pal(c(\"#ffffff\", \"#f2fbd2\", \"#c9ecb4\", \"#93d3ab\", \"#35b0ab\"), bias = 2)\n\ntbl <- playoff_salary %>%\n  arrange(desc(salary)) %>%\n  mutate(\n    `Salary Rank` = rank(desc(salary)),\n    salary = round(salary, 1)\n  ) %>%\n  select(`Salary Rank`, player:Superbowl, everything()) %>%\n  reactable(\n    pagination = FALSE,\n    compact = TRUE,\n    borderless = FALSE,\n    striped = FALSE,\n    fullWidth = FALSE,\n    theme = reactableTheme(\n      headerStyle = list(\n        \"&:hover[aria-sort]\" = list(background = \"hsl(0, 0%, 96%)\"),\n        \"&[aria-sort='ascending'], &[aria-sort='descending']\" = list(background = \"hsl(0, 0%, 96%)\"),\n        borderColor = \"#555\"\n      )\n    ),\n    defaultColDef = colDef(\n      align = \"center\",\n      minWidth = 100\n    ),\n    columns = list(\n      salary = colDef(\n        name = \"Salary\",\n        style = function(value) {\n          value\n          normalized <- (value - min(playoff_salary$salary)) / (max(playoff_salary$salary) - min(playoff_salary$salary))\n          color <- good_color(normalized)\n          list(background = color)\n        },\n        cell = JS(\"function(cellInfo) {\n                          return cellInfo.value + 'M'}\")\n      ),\n      Total = colDef(\n        style = function(value) {\n          value\n          normalized <- (value - min(playoff_salary$Total)) / (max(playoff_salary$Total) - min(playoff_salary$Total))\n          color <- good_color(normalized)\n          list(background = color)\n        },\n        class = \"border-left\"\n      ),\n      player = colDef(\n        name = \"Name\",\n        minWidth = 140,\n        align = \"left\"\n      )\n    )\n  )\n\n\n\n\n\ndiv(\n  class = \"salary\",\n  div(\n    class = \"title\",\n    h2(\"2014-2019 Salary and Playoff Appearances\"),\n    \"QBs limited to playoff games where they threw a pass\"\n  ),\n  tbl,\n  tags$span(style = \"color:#C8C8C8\", \"TABLE: @THOMAS_MOCK | DATA: PRO-FOOTBALL-REFERENCE.COM & OVERTHECAP.COM\")\n)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntags$link(href = \"https://fonts.googleapis.com/css?family=Karla:400,700|Fira+Mono&display=fallback\", rel = \"stylesheet\")\n```\n:::\n\n\n::: {.cell}\n\n```{.css .cell-code}\n.salary {\n  font-family: Karla, \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n}\n\n.number {\n  font-family: \"Fira Mono\", Consolas, Monaco, monospace;\n  font-size: 16px;\n  line-height: 30px;\n  white-space: pre;\n}\n\n.title {\n  margin: 18px 0;\n  font-size: 16px;\n}\n\n.title h2 {\n  font-size: 20px;\n  font-weight: 600;\n}\n\n\n.header:hover,\n.header[aria-sort=\"ascending\"],\n.header[aria-sort=\"descending\"] {\n  background-color: #eee;\n}\n\n.salary-table {\n  margin-bottom: 20px;\n}\n\n/* Align header text to the bottom */\n.header,\n.group-header {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n}\n\n.header {\n  border-bottom-color: #555;\n  font-size: 13px;\n  font-weight: 400;\n  text-transform: uppercase;\n}\n\n/* Highlight headers when sorting */\n.header:hover,\n.header[aria-sort=\"ascending\"],\n.header[aria-sort=\"descending\"] {\n  background-color: #eee;\n}\n\n.border-left {\n  border-left: 2px solid #555;\n}\n\n/* Use box-shadow to create row borders that appear behind vertical borders */\n.cell {\n  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);\n}\n```\n:::\n\n:::{.callout-tip collapse=\"true\"}\n## Expand for Session Info\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.2.0 (2022-04-22)\n os       macOS Monterey 12.2.1\n system   aarch64, darwin20\n ui       X11\n language (EN)\n collate  en_US.UTF-8\n ctype    en_US.UTF-8\n tz       America/Chicago\n date     2022-04-28\n pandoc   2.18 @ /Applications/RStudio.app/Contents/MacOS/quarto/bin/tools/ (via rmarkdown)\n quarto   0.9.294 @ /usr/local/bin/quarto\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package     * version date (UTC) lib source\n dplyr       * 1.0.8   2022-02-08 [1] CRAN (R 4.2.0)\n forcats     * 0.5.1   2021-01-27 [1] CRAN (R 4.2.0)\n ggplot2     * 3.3.5   2021-06-25 [1] CRAN (R 4.2.0)\n htmltools   * 0.5.2   2021-08-25 [1] CRAN (R 4.2.0)\n paletteer   * 1.4.0   2021-07-20 [1] CRAN (R 4.2.0)\n purrr       * 0.3.4   2020-04-17 [1] CRAN (R 4.2.0)\n reactable   * 0.2.3   2020-10-04 [1] CRAN (R 4.2.0)\n readr       * 2.1.2   2022-01-30 [1] CRAN (R 4.2.0)\n scales      * 1.2.0   2022-04-13 [1] CRAN (R 4.2.0)\n sessioninfo * 1.2.2   2021-12-06 [1] CRAN (R 4.2.0)\n stringr     * 1.4.0   2019-02-10 [1] CRAN (R 4.2.0)\n tibble      * 3.1.6   2021-11-07 [1] CRAN (R 4.2.0)\n tidyr       * 1.2.0   2022-02-01 [1] CRAN (R 4.2.0)\n tidyverse   * 1.3.1   2021-04-15 [1] CRAN (R 4.2.0)\n\n [1] /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/library\n\n──────────────────────────────────────────────────────────────────────────────\n```\n:::\n:::\n\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/core-js-2.5.3/shim.min.js\"></script>\n<script src=\"../../site_libs/react-17.0.0/react.min.js\"></script>\n<script src=\"../../site_libs/react-17.0.0/react-dom.min.js\"></script>\n<script src=\"../../site_libs/reactwidget-1.0.0/react-tools.js\"></script>\n<script src=\"../../site_libs/htmlwidgets-1.5.4/htmlwidgets.js\"></script>\n<script src=\"../../site_libs/reactable-binding-0.2.3/reactable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}