{
  "hash": "8700f7a7f5c262300475a321f3751c52",
  "result": {
    "markdown": "---\ntitle: \"Removing background from GenAI art\"\ndescription: |\n  We all deserve transparency\nauthor: Tom Mock\ndate: 2023-09-15\nimage: howard-robot-goggles_transparent.png\nexecute: \n  cache: true\ncategories:\n  - magick\n---\n\n\nGenerative AI created art from tools like Midjourney is quite fun for creating unique images. However, the background is typically at best a solid color.\n\nThis post is a quick but useful tip for removing the background from GenAI art. I'll use the always helpful `magick` package.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-1_d8528a48756a7bac537a47342fe616eb'}\n\n```{.r .cell-code}\nlibrary(magick)\n\nraw_img <- image_read(\"howard-robot-goggles.png\")\n\nraw_img |> image_resize(\"400x\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-1.png){width=200}\n:::\n:::\n\n::: {.cell hash='index_cache/html/unnamed-chunk-2_f80ff53cb63d34dc3323556e27977724'}\n\n```{.r .cell-code}\nlibrary(magick)\n\nmake_transparent <- function(path, fuzz = 10){\n\n  name <- fs::path_ext_remove(path)\n\n  logo <- image_read(path)\n\n  out_logo <- logo |>\n    image_fill(\n      color = \"transparent\",\n      fuzz = fuzz,\n      point = \"+1+1\"\n    ) \n  \n  image_write(out_logo, paste0(name, \"_transparent.png\"))\n  \n  return(image_resize(out_logo, \"400x\"))\n\n}\n```\n:::\n\n\nThen we can actually apply the `make_transparent()` function on the image.\n\n\n::: {.cell hash='index_cache/html/unnamed-chunk-3_aa5a40e019e565d3c6d923adfa64ddcf'}\n\n```{.r .cell-code}\nmake_transparent(\"howard-robot-goggles.png\")\n```\n:::\n\n\n![](howard-robot-goggles_transparent.png){width=400px}\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}